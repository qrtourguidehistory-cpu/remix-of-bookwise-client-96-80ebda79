import{v as Ve,T as Ye,U as We,r as d,b as fe,j as e,c as Ce,V as Te,W as Qe,S as Ge,o as Je,u as Ke,Y as Xe,x as H,B as R,N as Ze,C as we,Q as L}from"./index-CzloO7cy.js";import{I as oe}from"./input-BZkz6bcX.js";import{L as ce}from"./label-Bey0zjtU.js";import{s as De,f as P,a as et}from"./fr-BrIdmKuC.js";import{C as tt}from"./chevron-right-DZveEgkF.js";import{u as st}from"./useTimeFormat-DCXaxR2M.js";import{U as le}from"./user-CJBd_k6l.js";import{C as me}from"./check-CndPyvTF.js";import{S as Z}from"./skeleton-DmFE_1RV.js";import{a as nt}from"./useEstablishments-GKm5zP86.js";import{u as rt,g as at}from"./useBusinessHours-gte9Klbf.js";import{A as Ee}from"./arrow-left-DZEGrZ4W.js";import{C as it}from"./calendar-Dtgz1bCW.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=Ve("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function de(a,l){const o=Ye(a);return isNaN(l)?We(a,NaN):(l&&o.setDate(o.getDate()+l),o)}function Ie(a,l){const o=De(a),s=De(l);return+o==+s}function ct({selected:a,onSelect:l}){const[o,s]=d.useState(new Date),{i18n:n}=fe(),M=Array.from({length:7},(u,i)=>de(o,i)),x=(()=>{switch(n.language){case"en":return Qe;case"fr":return et;default:return Te}})(),y=()=>s(de(o,-7)),c=()=>s(de(o,7));return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:y,className:"p-2 rounded-lg hover:bg-secondary transition-colors",children:e.jsx(ot,{className:"w-5 h-5 text-muted-foreground"})}),e.jsx("span",{className:"font-medium text-foreground capitalize",children:P(o,"MMMM yyyy",{locale:x})}),e.jsx("button",{onClick:c,className:"p-2 rounded-lg hover:bg-secondary transition-colors",children:e.jsx(tt,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:M.map(u=>{const i=a&&Ie(u,a),B=Ie(u,new Date);return e.jsxs("button",{onClick:()=>l(u),className:Ce("flex flex-col items-center py-3 rounded-xl transition-all duration-200",i?"bg-primary text-primary-foreground shadow-card":B?"bg-coral-light text-coral":"bg-secondary text-secondary-foreground hover:bg-secondary/80"),children:[e.jsx("span",{className:"text-xs font-medium uppercase",children:P(u,"EEE",{locale:x})}),e.jsx("span",{className:"text-lg font-bold mt-1",children:P(u,"d")})]},u.toISOString())})})]})}function dt({slots:a,selected:l,onSelect:o}){const{formatTime:s}=st();return e.jsx("div",{className:"grid grid-cols-4 gap-2",children:a.map(n=>e.jsx("button",{onClick:()=>n.available&&o(n.id),disabled:!n.available,className:Ce("py-3 px-2 rounded-lg text-sm font-medium transition-all duration-200",n.available?l===n.id?"bg-primary text-primary-foreground shadow-card":"bg-secondary text-secondary-foreground hover:bg-secondary/80":"bg-muted text-muted-foreground/50 cursor-not-allowed line-through"),children:s(n.time)},n.id))})}function lt({services:a,staffMembers:l,onAssignmentsChange:o}){const{t:s}=fe(),[n,M]=d.useState([]);d.useEffect(()=>{const x=a.map(y=>({serviceId:y.id,serviceName:y.name,staffId:null}));M(x)},[a]);const A=(x,y)=>{const c=n.map(u=>u.serviceId===x?{...u,staffId:y}:u);M(c),o(c)};return a.length<=1?e.jsx("div",{className:"grid grid-cols-1 gap-3",children:l.map(x=>{var y,c;return e.jsxs("button",{onClick:()=>{var u;return A(((u=a[0])==null?void 0:u.id)||"",x.id)},className:`flex items-center gap-3 p-4 rounded-xl border transition-all duration-200 ${((y=n[0])==null?void 0:y.staffId)===x.id?"border-primary bg-primary/10":"border-border bg-card hover:border-primary/30"}`,children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-secondary flex items-center justify-center",children:e.jsx(le,{className:"w-6 h-6 text-muted-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-foreground",children:x.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x.specialty})]}),((c=n[0])==null?void 0:c.staffId)===x.id&&e.jsx(me,{className:"w-5 h-5 text-primary ml-auto"})]},x.id)})}):e.jsx("div",{className:"space-y-6",children:a.map((x,y)=>{const c=n.find(i=>i.serviceId===x.id),u=l.find(i=>i.id===(c==null?void 0:c.staffId));return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium text-foreground",children:x.name}),u&&e.jsx("span",{className:"text-sm text-primary font-medium",children:u.name})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:l.map(i=>e.jsxs("button",{onClick:()=>A(x.id,i.id),className:`flex items-center gap-3 p-3 rounded-lg border transition-all duration-200 ${(c==null?void 0:c.staffId)===i.id?"border-primary bg-primary/10":"border-border bg-card hover:border-primary/30"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center flex-shrink-0",children:e.jsx(le,{className:"w-5 h-5 text-muted-foreground"})}),e.jsxs("div",{className:"text-left min-w-0",children:[e.jsx("p",{className:"font-medium text-foreground text-sm truncate",children:i.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:i.specialty})]}),(c==null?void 0:c.staffId)===i.id&&e.jsx(me,{className:"w-4 h-4 text-primary ml-auto flex-shrink-0"})]},`${x.id}-${i.id}`))}),y<a.length-1&&e.jsx("div",{className:"border-b border-border pt-2"})]},x.id)})})}const E=a=>{const l=(a==null?void 0:a.length)>=5?a.substring(0,5):a,[o,s]=l.split(":").map(Number);return o*60+s},mt=a=>{const l=Math.floor(a/60),o=a%60;return`${l.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},U=(a,l,o)=>Math.max(l,Math.min(o,a)),ue=(a,l,o,s)=>a<s&&l>o;function Pe(a){const l=[...a].sort((s,n)=>s.startMin-n.startMin),o=[];for(const s of l){if(o.length===0){o.push({...s});continue}const n=o[o.length-1];s.startMin<=n.endMin?n.endMin=Math.max(n.endMin,s.endMin):o.push({...s})}return o}function ut(a){const{openMin:l,closeMin:o,durationMin:s,breakStartMin:n,breakEndMin:M,busy:A,stepByDuration:x=!0,fallbackStepMin:y,minStartMin:c=0}=a;if(s<=0)return[];const u=o-s;if(u<l)return[];const i=Math.max(l,c),B=Pe(A.map(g=>({startMin:U(g.startMin,i,o),endMin:U(g.endMin,i,o)})).filter(g=>g.endMin>g.startMin)),k=new Set;k.add(i);for(const g of B)k.add(g.endMin);n!=null&&M!=null&&k.add(M);const V=[...k].sort((g,f)=>g-f),_=new Set,Y=(g,f)=>n==null||M==null?!1:ue(g,f,n,M),W=(g,f)=>{let T=null;for(const I of B)ue(g,f,I.startMin,I.endMin)&&(T=T==null?I.endMin:Math.max(T,I.endMin));return T};for(const g of V){let f=U(g,i,u);for(;f<=u;){const T=f+s;if(Y(f,T)&&M!=null){f=U(M,i,u+1);continue}const I=W(f,T);if(I!=null){f=U(I,i,u+1);continue}_.add(f),x?f=f+s:y&&y>0?f=f+y:f=f+s}}return[..._].sort((g,f)=>g-f)}const wt=()=>{var Me,Se;const{id:a}=Ge(),l=Je(),o=Ke(),{t:s}=fe(),{establishment:n,staff:M,loading:A,error:x}=nt(a),y=(n==null?void 0:n.name)||"",c=((Me=l.state)==null?void 0:Me.services)||[],{createAppointment:u}=Xe(),[i,B]=d.useState(null),[k,V]=d.useState(null),[_,Y]=d.useState([]),[W,g]=d.useState(!1),[f,T]=d.useState([]),[I,Q]=d.useState({}),[G,Ae]=d.useState(""),[D,Be]=d.useState(""),[xe,$e]=d.useState(""),[J,ee]=d.useState(""),[q,F]=d.useState(""),p=d.useMemo(()=>M.length>0?M.map(t=>{var r;return{id:t.id,name:t.full_name||s("common.noName"),specialty:((r=t.specialties)==null?void 0:r.join(", "))||""}}):[],[M,s]),w=p.length>0,te=d.useMemo(()=>w?p.map(t=>t.id):["__owner__"],[w,p]),se=d.useMemo(()=>{var t;return w?p.length===1?p[0].id:((t=_[0])==null?void 0:t.staffId)||null:null},[w,p,_]),{hours:Le,isClosed:ne}=rt((n==null?void 0:n.id)||a,i||void 0),qe=at(a),C=Le||qe,re=d.useMemo(()=>{const t=c.reduce((r,N)=>r+(Number(N.duration)||0),0);return t>0?t:30},[c]);d.useEffect(()=>{(async()=>{if(!i){Q({});return}if(!w||p.length===0){Q({});return}const r=(n==null?void 0:n.id)||a,N=i.getDay(),m=p.map(j=>j.id),{data:v,error:h}=await H.from("staff_schedules").select("staff_id, start_time, end_time, is_available").eq("business_id",r).eq("day_of_week",N).in("staff_id",m);if(h){console.error("Error fetching staff day schedules:",h),Q({});return}const b={};for(const j of v||[])j.staff_id&&(b[j.staff_id]={startMin:E(j.start_time),endMin:E(j.end_time),isAvailable:j.is_available!==!1});Q(b)})()},[i,w,p,n==null?void 0:n.id,a]);const $=d.useCallback(async()=>{if(!i||!a)return;const t=P(i,"yyyy-MM-dd"),r=(n==null?void 0:n.id)||a,{data:N,error:m}=await H.from("appointments").select("staff_id, start_time, end_time, duration_minutes, status").eq("business_id",r).eq("date",t).in("status",["pending","confirmed","arrived","started"]);if(m){console.error("Error fetching day appointments:",m);return}T(N||[])},[i,a,n==null?void 0:n.id]);d.useEffect(()=>{if($(),!i)return;const t=(n==null?void 0:n.id)||a,r=P(i,"yyyy-MM-dd"),N=H.channel(`appointments-${t}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`business_id=eq.${t}`},m=>{const v=m.new,h=m.old,b=v==null?void 0:v.date,j=h==null?void 0:h.date;(b===r||j===r)&&$()}).subscribe();return()=>{H.removeChannel(N)}},[$,i,n==null?void 0:n.id,a]),d.useEffect(()=>{if(!w||p.length!==1||c.length===0||_.length>0)return;const t=p[0].id;Y(c.map(r=>({serviceId:r.id,serviceName:r.name,staffId:t})))},[w,p,c,_.length]);const ae=d.useMemo(()=>E(C.openTime),[C.openTime]),ie=d.useMemo(()=>E(C.closeTime),[C.closeTime]),he=d.useMemo(()=>C.lunchStart?E(C.lunchStart):null,[C.lunchStart]),ge=d.useMemo(()=>C.lunchEnd?E(C.lunchEnd):null,[C.lunchEnd]),pe=d.useMemo(()=>{const t=new Map;for(const r of te)t.set(r,[]);for(const r of f){if(!r.start_time)continue;const N=E(r.start_time),m=r.duration_minutes??(r.end_time?null:30),v=r.end_time&&r.end_time.length>=5?E(r.end_time):N+(m||30),h={startMin:N,endMin:v};if(r.staff_id){const b=r.staff_id,j=t.get(b)||[];j.push(h),t.set(b,j)}else for(const b of te){const j=t.get(b)||[];j.push(h),t.set(b,j)}}for(const[r,N]of t.entries())t.set(r,Pe(N));return t},[f,te]),K=d.useMemo(()=>{if(!i)return!1;const t=new Date;return i.getDate()===t.getDate()&&i.getMonth()===t.getMonth()&&i.getFullYear()===t.getFullYear()},[i]),be=d.useMemo(()=>{if(!K)return 0;const t=new Date;return t.getHours()*60+t.getMinutes()+15},[K]),je=d.useMemo(()=>{if(!i)return[];if(ne)return[];const t=re,r=m=>{const v=pe.get(m)||[],h=I[m];if(h&&h.isAvailable===!1)return[];const b=h?Math.max(ae,h.startMin):ae,j=h?Math.min(ie,h.endMin):ie;return ut({openMin:b,closeMin:j,durationMin:t,breakStartMin:he,breakEndMin:ge,busy:v,stepByDuration:!0,minStartMin:K?be:0})};if(!w)return r("__owner__");if(p.length===1)return r(p[0].id);if(se)return r(se);const N=new Set;for(const m of p)for(const v of r(m.id))N.add(v);return[...N].sort((m,v)=>m-v)},[i,ne,re,pe,ae,ie,he,ge,w,p,se,I,K,be]),X=d.useMemo(()=>je.map(t=>{const r=mt(t);return{id:r,time:r,available:!0}}),[je]);d.useEffect(()=>{if(!k)return;X.some(r=>r.id===k&&r.available)||V(null)},[k,X]);const ye=c.reduce((t,r)=>t+r.price,0),Fe=c.reduce((t,r)=>t+r.duration,0),ze=p.length===0||(c.length>1?_.every(t=>t.staffId!==null):_.length>0&&((Se=_[0])==null?void 0:Se.staffId)!==null),z=t=>t.replace(/\D/g,"").length,Ne=t=>{const r=z(t);return r>=9&&r<=14},Oe=()=>{let t=!0;return G.trim()?ee(""):(ee(s("booking.nameRequired")||"El nombre es obligatorio"),t=!1),D.trim()?Ne(D)?F(""):(z(D)<9?F(s("booking.phoneMinDigits")||"El teléfono debe tener mínimo 9 dígitos"):F(s("booking.phoneMaxDigits")||"El teléfono debe tener máximo 14 dígitos"),t=!1):(F(s("booking.phoneRequired")||"El teléfono es obligatorio"),t=!1),t},ve=i&&k&&ze&&G.trim()&&D.trim()&&Ne(D),He=t=>{Y(t)},Re=async()=>{var r,N;if(!Oe()){L({title:s("common.error"),description:s("booking.validationError")||"Por favor completa todos los campos requeridos correctamente",variant:"destructive"});return}if(!ve||!i||!k)return;g(!0);const t=X.find(m=>m.id===k);if(!t){g(!1),L({title:s("common.error"),description:"Selecciona un horario válido.",variant:"destructive"});return}try{const m=P(i,"yyyy-MM-dd"),v=(n==null?void 0:n.id)||a,{data:h}=await H.from("appointments").select("staff_id, start_time, end_time, duration_minutes, status").eq("business_id",v).eq("date",m).in("status",["pending","confirmed","arrived","started"]),b=E(t.time),j=b+re,O=S=>{if(!(S!=null&&S.start_time))return!1;const _e=E(S.start_time),Ue=S.end_time?E(S.end_time):_e+(S.duration_minutes||30);return ue(b,j,_e,Ue)},ke=w?p.length===1?p[0].id:((r=_[0])==null?void 0:r.staffId)||null:null;if((h||[]).some(S=>!w||p.length===1||!ke||S.staff_id==null||S.staff_id===ke?O(S):!1)){g(!1),L({title:s("common.error"),description:"Ese horario ya fue reservado. Selecciona otro.",variant:"destructive"}),await $();return}}catch(m){console.error("Pre-insert availability check failed:",m)}try{const m=(n==null?void 0:n.id)||a||"",v=((N=_[0])==null?void 0:N.staffId)||void 0,{error:h}=await u({establishment_id:m,staff_id:v,client_name:G,client_email:xe||void 0,client_phone:D||void 0,date:P(i,"yyyy-MM-dd"),start_time:(t==null?void 0:t.time)||"09:00",price:ye,duration_minutes:Fe,services:c.map(b=>({id:b.id,name:b.name,price:b.price,duration_minutes:b.duration}))});if(h){console.error("Error saving appointment:",h),L({title:s("common.error"),description:h.includes("exclusion")||h.includes("overlap")?"Ese horario ya fue reservado. Selecciona otro.":"No se pudo crear la reserva. Intenta de nuevo.",variant:"destructive"}),await $();return}L({title:s("booking.bookingConfirmed"),description:`${s("booking.bookingConfirmedDesc")} ${y} - ${P(i,"PPP",{locale:Te})} ${t==null?void 0:t.time}`}),await $(),setTimeout(()=>{o("/appointments")},100)}catch(m){console.error("Error:",m),L({title:s("common.error"),description:"No se pudo crear la reserva. Intenta de nuevo.",variant:"destructive"})}finally{g(!1)}};return A?e.jsxs("div",{className:"min-h-screen bg-background pb-32",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-card border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-4 h-14 px-4 max-w-lg mx-auto",children:[e.jsx(R,{variant:"ghost",size:"icon",onClick:()=>o(-1),children:e.jsx(Ee,{className:"w-5 h-5"})}),e.jsx(Z,{className:"h-5 w-32"})]})}),e.jsxs("main",{className:"max-w-lg mx-auto px-4 py-6 space-y-4",children:[e.jsx(Z,{className:"h-32 rounded-xl"}),e.jsx(Z,{className:"h-48 rounded-xl"}),e.jsx(Z,{className:"h-64 rounded-xl"})]})]}):x||!n?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:s("common.error")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s("business.notFound")}),e.jsx(R,{variant:"coral",onClick:()=>o("/"),children:s("common.goBack")})]})}):c.length===0?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:s("booking.noServices")}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s("booking.selectServicesFirst")}),e.jsx(R,{variant:"coral",onClick:()=>o(`/business/${a}`),children:s("common.goBack")})]})}):e.jsxs("div",{className:"min-h-screen bg-background pb-32",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-card border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-4 h-14 px-4 max-w-lg mx-auto",children:[e.jsx(Ze,{to:`/business/${a}`,children:e.jsx(R,{variant:"ghost",size:"icon",children:e.jsx(Ee,{className:"w-5 h-5"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-foreground",children:s("booking.title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:y})]})]})}),e.jsxs("main",{className:"max-w-lg mx-auto px-4 py-6 space-y-8",children:[e.jsxs("section",{className:"animate-fade-in",children:[e.jsx("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:s("booking.selectedServices")}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-4 space-y-2",children:[c.map(t=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4 text-success"}),e.jsx("span",{className:"text-foreground",children:t.name})]}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:[t.duration," ",s("booking.min")]})]},t.id)),e.jsxs("div",{className:"border-t border-border pt-2 mt-2 flex justify-between",children:[e.jsx("span",{className:"font-medium text-foreground",children:s("booking.total")}),e.jsxs("span",{className:"font-bold text-foreground",children:["RD$ ",ye.toLocaleString()]})]})]})]}),e.jsxs("section",{className:"animate-fade-in",style:{animationDelay:"0.05s"},children:[e.jsx("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:s("booking.yourData")}),e.jsxs("div",{className:"bg-card rounded-xl border border-border p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ce,{htmlFor:"clientName",children:[s("booking.name")," *"]}),e.jsx(oe,{id:"clientName",placeholder:s("booking.namePlaceholder"),value:G,onChange:t=>{Ae(t.target.value),J&&ee("")},className:J?"border-destructive":""}),J&&e.jsx("p",{className:"text-sm text-destructive",children:J})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(ce,{htmlFor:"clientPhone",children:[s("booking.phone")," *"]}),e.jsx(oe,{id:"clientPhone",type:"tel",placeholder:"+1 809 555 1234",value:D,onChange:t=>{Be(t.target.value),q&&F("")},className:q?"border-destructive":"",maxLength:20}),q&&e.jsx("p",{className:"text-sm text-destructive",children:q}),!q&&D&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[z(D)," dígitos ",z(D)<9||z(D)>14?"(requiere 9-14)":""]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ce,{htmlFor:"clientEmail",children:s("booking.email")}),e.jsx(oe,{id:"clientEmail",type:"email",placeholder:"tu@email.com",value:xe,onChange:t=>$e(t.target.value)})]})]})]}),p.length>0&&e.jsxs("section",{className:"animate-fade-in",style:{animationDelay:"0.1s"},children:[e.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4"}),c.length>1?s("booking.assignProfessionals"):s("booking.selectProfessional")]}),e.jsx("div",{className:"bg-card rounded-xl border border-border p-4",children:e.jsx(lt,{services:c,staffMembers:p,onAssignmentsChange:He})})]}),e.jsxs("section",{className:"animate-fade-in",style:{animationDelay:"0.15s"},children:[e.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx(it,{className:"w-4 h-4"}),s("booking.selectDate")]}),e.jsx("div",{className:"bg-card rounded-xl border border-border p-4",children:e.jsx(ct,{selected:i,onSelect:B})})]}),i&&e.jsxs("section",{className:"animate-fade-in",children:[e.jsxs("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),s("booking.availableTimes")]}),e.jsx("div",{className:"bg-card rounded-xl border border-border p-4",children:ne?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(we,{className:"w-12 h-12 text-muted-foreground mx-auto mb-3"}),e.jsx("p",{className:"text-lg font-medium text-foreground",children:s("booking.closedTitle")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("booking.closedMessage")})]}):e.jsx(dt,{slots:X,selected:k,onSelect:V})})]}),e.jsxs("section",{className:"animate-fade-in bg-info/10 rounded-xl p-4",children:[e.jsx("p",{className:"text-sm text-info font-medium",children:s("booking.paymentInfo")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("booking.paymentNote")})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border p-4 shadow-elevated z-50",children:e.jsx("div",{className:"max-w-lg mx-auto",children:e.jsx(R,{variant:"coral",size:"xl",className:"w-full",disabled:!ve||W,onClick:Re,children:s(W?"booking.confirming":"booking.confirmBooking")})})})]})};export{wt as default};
