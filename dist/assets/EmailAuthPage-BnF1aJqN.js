import{e as Y,r as n,s as we,j as t,t as q,P as C,g as h,d as ye,p as z,h as Ie,f as Ne,c as M,u as Te,a as je,b as Ce,B,n as A}from"./index-CqvD_sCs.js";import{I as U}from"./input-Dk5O-pJR.js";import{L as V}from"./label-C1BlAr-Z.js";import{u as H}from"./index-CSUiWt--.js";import{m as P}from"./proxy-KvTvCzBh.js";import{A as Ee}from"./arrow-left-RgOO1c9f.js";import{E as Fe,o as Re,s as $}from"./types-z6V_HsKV.js";import{E as Se}from"./eye-CdJPQfNn.js";var _="rovingFocusGroup.onEntryFocus",Ae={bubbles:!1,cancelable:!0},E="RovingFocusGroup",[k,W,Pe]=we(E),[_e,J]=Y(E,[Pe]),[ke,De]=_e(E),Q=n.forwardRef((e,o)=>t.jsx(k.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(k.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Le,{...e,ref:o})})}));Q.displayName=E;var Le=n.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:s,orientation:a,loop:d=!1,dir:u,currentTabStopId:l,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:x,onEntryFocus:m,preventScrollOnEntryFocus:r=!1,...i}=e,g=n.useRef(null),y=ye(o,g),N=H(u),[T,c]=z({prop:l,defaultProp:f??null,onChange:x,caller:E}),[p,j]=n.useState(!1),v=Ie(m),w=W(s),R=n.useRef(!1),[ge,K]=n.useState(0);return n.useEffect(()=>{const b=g.current;if(b)return b.addEventListener(_,v),()=>b.removeEventListener(_,v)},[v]),t.jsx(ke,{scope:s,orientation:a,dir:N,loop:d,currentTabStopId:T,onItemFocus:n.useCallback(b=>c(b),[c]),onItemShiftTab:n.useCallback(()=>j(!0),[]),onFocusableItemAdd:n.useCallback(()=>K(b=>b+1),[]),onFocusableItemRemove:n.useCallback(()=>K(b=>b-1),[]),children:t.jsx(C.div,{tabIndex:p||ge===0?-1:0,"data-orientation":a,...i,ref:y,style:{outline:"none",...e.style},onMouseDown:h(e.onMouseDown,()=>{R.current=!0}),onFocus:h(e.onFocus,b=>{const ve=!R.current;if(b.target===b.currentTarget&&ve&&!p){const O=new CustomEvent(_,Ae);if(b.currentTarget.dispatchEvent(O),!O.defaultPrevented){const S=w().filter(I=>I.focusable),be=S.find(I=>I.active),xe=S.find(I=>I.id===T),he=[be,xe,...S].filter(Boolean).map(I=>I.ref.current);ee(he,r)}}R.current=!1}),onBlur:h(e.onBlur,()=>j(!1))})})}),X="RovingFocusGroupItem",Z=n.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:s,focusable:a=!0,active:d=!1,tabStopId:u,children:l,...f}=e,x=q(),m=u||x,r=De(X,s),i=r.currentTabStopId===m,g=W(s),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:T}=r;return n.useEffect(()=>{if(a)return y(),()=>N()},[a,y,N]),t.jsx(k.ItemSlot,{scope:s,id:m,focusable:a,active:d,children:t.jsx(C.span,{tabIndex:i?0:-1,"data-orientation":r.orientation,...f,ref:o,onMouseDown:h(e.onMouseDown,c=>{a?r.onItemFocus(m):c.preventDefault()}),onFocus:h(e.onFocus,()=>r.onItemFocus(m)),onKeyDown:h(e.onKeyDown,c=>{if(c.key==="Tab"&&c.shiftKey){r.onItemShiftTab();return}if(c.target!==c.currentTarget)return;const p=Ke(c,r.orientation,r.dir);if(p!==void 0){if(c.metaKey||c.ctrlKey||c.altKey||c.shiftKey)return;c.preventDefault();let v=g().filter(w=>w.focusable).map(w=>w.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const w=v.indexOf(c.currentTarget);v=r.loop?Oe(v,w+1):v.slice(w+1)}setTimeout(()=>ee(v))}}),children:typeof l=="function"?l({isCurrentTabStop:i,hasTabStop:T!=null}):l})})});Z.displayName=X;var Me={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ge(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ke(e,o,s){const a=Ge(e.key,s);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Me[a]}function ee(e,o=!1){const s=document.activeElement;for(const a of e)if(a===s||(a.focus({preventScroll:o}),document.activeElement!==s))return}function Oe(e,o){return e.map((s,a)=>e[(o+a)%e.length])}var Be=Q,Ue=Z,F="Tabs",[Ve]=Y(F,[J]),te=J(),[$e,G]=Ve(F),se=n.forwardRef((e,o)=>{const{__scopeTabs:s,value:a,onValueChange:d,defaultValue:u,orientation:l="horizontal",dir:f,activationMode:x="automatic",...m}=e,r=H(f),[i,g]=z({prop:a,onChange:d,defaultProp:u??"",caller:F});return t.jsx($e,{scope:s,baseId:q(),value:i,onValueChange:g,orientation:l,dir:r,activationMode:x,children:t.jsx(C.div,{dir:r,"data-orientation":l,...m,ref:o})})});se.displayName=F;var ae="TabsList",oe=n.forwardRef((e,o)=>{const{__scopeTabs:s,loop:a=!0,...d}=e,u=G(ae,s),l=te(s);return t.jsx(Be,{asChild:!0,...l,orientation:u.orientation,dir:u.dir,loop:a,children:t.jsx(C.div,{role:"tablist","aria-orientation":u.orientation,...d,ref:o})})});oe.displayName=ae;var ne="TabsTrigger",re=n.forwardRef((e,o)=>{const{__scopeTabs:s,value:a,disabled:d=!1,...u}=e,l=G(ne,s),f=te(s),x=le(l.baseId,a),m=ue(l.baseId,a),r=a===l.value;return t.jsx(Ue,{asChild:!0,...f,focusable:!d,active:r,children:t.jsx(C.button,{type:"button",role:"tab","aria-selected":r,"aria-controls":m,"data-state":r?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:x,...u,ref:o,onMouseDown:h(e.onMouseDown,i=>{!d&&i.button===0&&i.ctrlKey===!1?l.onValueChange(a):i.preventDefault()}),onKeyDown:h(e.onKeyDown,i=>{[" ","Enter"].includes(i.key)&&l.onValueChange(a)}),onFocus:h(e.onFocus,()=>{const i=l.activationMode!=="manual";!r&&!d&&i&&l.onValueChange(a)})})})});re.displayName=ne;var ie="TabsContent",ce=n.forwardRef((e,o)=>{const{__scopeTabs:s,value:a,forceMount:d,children:u,...l}=e,f=G(ie,s),x=le(f.baseId,a),m=ue(f.baseId,a),r=a===f.value,i=n.useRef(r);return n.useEffect(()=>{const g=requestAnimationFrame(()=>i.current=!1);return()=>cancelAnimationFrame(g)},[]),t.jsx(Ne,{present:d||r,children:({present:g})=>t.jsx(C.div,{"data-state":r?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":x,hidden:!g,id:m,tabIndex:0,...l,ref:o,style:{...e.style,animationDuration:i.current?"0s":void 0},children:g&&u})})});ce.displayName=ie;function le(e,o){return`${e}-trigger-${o}`}function ue(e,o){return`${e}-content-${o}`}var Ye=se,de=oe,fe=re,me=ce;const qe=Ye,pe=n.forwardRef(({className:e,...o},s)=>t.jsx(de,{ref:s,className:M("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...o}));pe.displayName=de.displayName;const D=n.forwardRef(({className:e,...o},s)=>t.jsx(fe,{ref:s,className:M("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...o}));D.displayName=fe.displayName;const L=n.forwardRef(({className:e,...o},s)=>t.jsx(me,{ref:s,className:M("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...o}));L.displayName=me.displayName;const ze=Re({email:$().email("Invalid email address"),password:$().min(1,"Password is required")}),at=()=>{const e=Te(),{signInWithEmail:o}=je(),{t:s}=Ce(),[a,d]=n.useState(""),[u,l]=n.useState(""),[f,x]=n.useState(!1),[m,r]=n.useState(!1),[i,g]=n.useState({}),y=async()=>{const c=ze.safeParse({email:a,password:u});if(!c.success){const j={};c.error.errors.forEach(v=>{v.path[0]&&(j[v.path[0]]=v.message)}),g(j);return}r(!0);const{error:p}=await o(a,u);p?(p.message.includes("Invalid login credentials")?A.error("Invalid email or password"):A.error(p.message||"Failed to sign in"),r(!1)):(A.success("Signed in successfully!"),e("/"))},N=()=>{e("/auth")},T=()=>{e("/auth/register")};return t.jsxs(P.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:"min-h-screen bg-white flex flex-col",children:[t.jsxs("div",{className:"flex items-center p-4 border-b border-slate-200",children:[t.jsx("button",{onClick:N,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 transition-colors",children:t.jsx(Ee,{className:"h-6 w-6 text-slate-900"})}),t.jsx("h1",{className:"flex-1 text-center text-lg font-semibold text-slate-900 pr-10",children:"Email"})]}),t.jsx("div",{className:"flex-1 px-6 py-8",children:t.jsxs(qe,{defaultValue:"login",className:"w-full",children:[t.jsxs(pe,{className:"grid w-full grid-cols-2 mb-8 bg-slate-100",children:[t.jsx(D,{value:"login",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-slate-600",children:s("auth.login.signIn","Sign In")}),t.jsx(D,{value:"signup",className:"data-[state=active]:bg-white data-[state=active]:text-slate-900 text-slate-600",children:s("auth.login.signUp","Sign Up")})]}),t.jsx(L,{value:"login",children:t.jsxs(P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,duration:.4},className:"space-y-5",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(V,{htmlFor:"email",className:"text-slate-900",children:s("booking.email","Email")}),t.jsx(U,{id:"email",type:"email",value:a,onChange:c=>{d(c.target.value),i.email&&g(p=>({...p,email:""}))},placeholder:"email@example.com",className:`h-14 text-lg rounded-xl bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-400 ${i.email?"border-red-500":""}`}),i.email&&t.jsx("p",{className:"text-sm text-red-500",children:i.email})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(V,{htmlFor:"password",className:"text-slate-900",children:s("auth.register.password","Password")}),t.jsxs("div",{className:"relative",children:[t.jsx(U,{id:"password",type:f?"text":"password",value:u,onChange:c=>{l(c.target.value),i.password&&g(p=>({...p,password:""}))},onKeyDown:c=>{c.key==="Enter"&&!m&&a&&u&&(c.preventDefault(),y())},placeholder:"••••••••",className:`h-14 text-lg rounded-xl pr-12 bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-400 ${i.password?"border-red-500":""}`}),t.jsx("button",{type:"button",onClick:()=>x(!f),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-900",children:f?t.jsx(Fe,{className:"h-5 w-5"}):t.jsx(Se,{className:"h-5 w-5"})})]}),i.password&&t.jsx("p",{className:"text-sm text-red-500",children:i.password})]}),t.jsx("div",{className:"text-right",children:t.jsx("button",{onClick:()=>e("/auth/forgot-password"),className:"text-sm text-slate-600 hover:text-slate-900 hover:underline",children:s("auth.login.forgotPassword","Forgot password?")})}),t.jsx(B,{onClick:y,disabled:m,className:"w-full h-14 text-lg font-semibold rounded-xl",children:m?t.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):s("auth.login.signIn","Sign In")})]})}),t.jsx(L,{value:"signup",children:t.jsxs(P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,duration:.4},className:"text-center py-8",children:[t.jsx("p",{className:"text-slate-600 mb-6",children:s("auth.register.createAccountDesc","Create an account to book appointments and manage your bookings")}),t.jsx(B,{onClick:T,className:"w-full h-14 text-lg font-semibold rounded-xl",children:s("auth.register.title","Create Account")})]})})]})})]})};export{at as default};
