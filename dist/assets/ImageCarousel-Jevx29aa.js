import{r as l,j as t,X as C,c as m}from"./index-DdwKk-nk.js";import{C as k}from"./chevron-left-CkA_g7Ju.js";import{C as S}from"./chevron-right-DxdR6v9r.js";const N=({images:o,initialIndex:r=0,isOpen:c,onClose:h,alt:f="Image"})=>{const[n,u]=l.useState(r),d=l.useRef(null),a=l.useRef(null),x=l.useRef(null),w=50;l.useEffect(()=>{u(r)},[r,c]),l.useEffect(()=>(c?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[c]);const g=e=>{d.current=e.touches[0].clientX},b=e=>{a.current=e.touches[0].clientX},v=()=>{if(!d.current||!a.current)return;const e=d.current-a.current,i=e>w,y=e<-w;i&&n<o.length-1&&u(n+1),y&&n>0&&u(n-1),d.current=null,a.current=null},p=()=>{n>0&&u(n-1)},j=()=>{n<o.length-1&&u(n+1)},s=e=>{c&&(e.key==="ArrowLeft"&&p(),e.key==="ArrowRight"&&j(),e.key==="Escape"&&h())};return l.useEffect(()=>(window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)),[c,n]),!c||o.length===0?null:t.jsxs("div",{className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",onClick:h,onTouchStart:g,onTouchMove:b,onTouchEnd:v,children:[t.jsx("button",{onClick:h,className:"absolute top-4 right-4 z-50 w-10 h-10 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:t.jsx(C,{className:"w-6 h-6"})}),o.length>1&&n>0&&t.jsx("button",{onClick:e=>{e.stopPropagation(),p()},className:"absolute left-4 z-50 w-12 h-12 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:t.jsx(k,{className:"w-6 h-6"})}),t.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",onClick:e=>e.stopPropagation(),children:t.jsx("img",{ref:x,src:o[n],alt:`${f} ${n+1}`,className:"max-w-full max-h-full object-contain",style:{width:"auto",height:"auto",maxWidth:"100vw",maxHeight:"100vh"}})}),o.length>1&&n<o.length-1&&t.jsx("button",{onClick:e=>{e.stopPropagation(),j()},className:"absolute right-4 z-50 w-12 h-12 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center text-white hover:bg-white/20 transition-colors",children:t.jsx(S,{className:"w-6 h-6"})}),o.length>1&&t.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2 z-50",children:o.map((e,i)=>t.jsx("button",{onClick:y=>{y.stopPropagation(),u(i)},className:m("w-2 h-2 rounded-full transition-all duration-200",i===n?"bg-white w-6":"bg-white/50 hover:bg-white/70")},i))}),o.length>1&&t.jsxs("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-full bg-white/10 backdrop-blur-sm text-white text-sm",children:[n+1," / ",o.length]})]})},R=l.memo(function({images:r,alt:c="Image",className:h,clickable:f=!1}){const[n,u]=l.useState(0),[d,a]=l.useState(!1),x=l.useRef(null),w=l.useRef(null),g=50,b=()=>{f&&r.length>0&&a(!0)},v=s=>{x.current=s.touches[0].clientX},p=s=>{w.current=s.touches[0].clientX},j=()=>{if(!x.current||!w.current)return;const s=x.current-w.current,e=s>g,i=s<-g;e&&n<r.length-1&&u(n+1),i&&n>0&&u(n-1),x.current=null,w.current=null};return!r||r.length===0?t.jsx("div",{className:m("w-full h-full flex items-center justify-center bg-gradient-to-br from-secondary to-muted",h),children:t.jsx("div",{className:"w-16 h-16 rounded-xl bg-muted-foreground/10 flex items-center justify-center",children:t.jsx("span",{className:"text-muted-foreground text-2xl",children:"ðŸ“·"})})}):r.length===1?t.jsxs(t.Fragment,{children:[t.jsx("img",{src:r[0],alt:c,loading:"lazy",onClick:b,className:m("w-full h-full object-cover",f&&"cursor-pointer",h)}),f&&t.jsx(N,{images:r,initialIndex:0,isOpen:d,onClose:()=>a(!1),alt:c})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:m("relative w-full h-full overflow-hidden",f&&"cursor-pointer",h),onTouchStart:v,onTouchMove:p,onTouchEnd:j,onClick:b,children:[t.jsx("div",{className:"flex h-full transition-transform duration-300 ease-out",style:{transform:`translateX(-${n*100}%)`},children:r.map((s,e)=>t.jsx("img",{src:s,alt:`${c} ${e+1}`,loading:e===0?"eager":"lazy",className:"w-full h-full object-cover flex-shrink-0"},e))}),t.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5 z-10",children:r.map((s,e)=>t.jsx("button",{onClick:i=>{i.stopPropagation(),u(e)},className:m("w-2 h-2 rounded-full transition-all duration-200",e===n?"bg-white w-4":"bg-white/50 hover:bg-white/70")},e))})]}),f&&t.jsx(N,{images:r,initialIndex:n,isOpen:d,onClose:()=>a(!1),alt:c})]})});export{R as I,N as a};
