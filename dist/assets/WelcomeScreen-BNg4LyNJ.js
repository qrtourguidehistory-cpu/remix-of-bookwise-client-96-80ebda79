import{r,j as n,u as z,b as B,C as I,B as S}from"./index-BG1LYuWX.js";import{C as U}from"./checkbox-yY2OUZbd.js";import{C as W}from"./calendar-BCREpcoo.js";import{S as A}from"./star-BFYT-V6H.js";import{U as F}from"./users-CWL6MNru.js";import{M as H,i as K,u as D,P as _,a as q,b as G,L as O,m as V}from"./proxy-CAYcuR9P.js";import{C as X}from"./chevron-right-C5X69nGY.js";import"./index-C_plhFvB.js";import"./check-RMo93UJa.js";function M(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function J(...e){return t=>{let s=!1;const a=e.map(l=>{const i=M(l,t);return!s&&typeof i=="function"&&(s=!0),i});if(s)return()=>{for(let l=0;l<a.length;l++){const i=a[l];typeof i=="function"?i():M(e[l],null)}}}}function Q(...e){return r.useCallback(J(...e),e)}class Y extends r.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const a=s.offsetParent,l=K(a)&&a.offsetWidth||0,i=this.props.sizeRef.current;i.height=s.offsetHeight||0,i.width=s.offsetWidth||0,i.top=s.offsetTop,i.left=s.offsetLeft,i.right=l-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Z({children:e,isPresent:t,anchorX:s,root:a}){const l=r.useId(),i=r.useRef(null),c=r.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=r.useContext(H),w=Q(i,e==null?void 0:e.ref);return r.useInsertionEffect(()=>{const{width:o,height:m,top:d,left:f,right:p}=c.current;if(t||!i.current||!o||!m)return;const b=s==="left"?`left: ${f}`:`right: ${p}`;i.current.dataset.motionPopId=l;const h=document.createElement("style");g&&(h.nonce=g);const j=a??document.head;return j.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${d}px !important;
          }
        `),()=>{j.contains(h)&&j.removeChild(h)}},[t]),n.jsx(Y,{isPresent:t,childRef:i,sizeRef:c,children:r.cloneElement(e,{ref:w})})}const ee=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:l,presenceAffectsLayout:i,mode:c,anchorX:g,root:w})=>{const o=D(te),m=r.useId();let d=!0,f=r.useMemo(()=>(d=!1,{id:m,initial:t,isPresent:s,custom:l,onExitComplete:p=>{o.set(p,!0);for(const b of o.values())if(!b)return;a&&a()},register:p=>(o.set(p,!1),()=>o.delete(p))}),[s,o,a]);return i&&d&&(f={...f}),r.useMemo(()=>{o.forEach((p,b)=>o.set(b,!1))},[s]),r.useEffect(()=>{!s&&!o.size&&a&&a()},[s]),c==="popLayout"&&(e=n.jsx(Z,{isPresent:s,anchorX:g,root:w,children:e})),n.jsx(_.Provider,{value:f,children:e})};function te(){return new Map}const y=e=>e.key||"";function T(e){const t=[];return r.Children.forEach(e,s=>{r.isValidElement(s)&&t.push(s)}),t}const se=({children:e,custom:t,initial:s=!0,onExitComplete:a,presenceAffectsLayout:l=!0,mode:i="sync",propagate:c=!1,anchorX:g="left",root:w})=>{const[o,m]=q(c),d=r.useMemo(()=>T(e),[e]),f=c&&!o?[]:d.map(y),p=r.useRef(!0),b=r.useRef(d),h=D(()=>new Map),[j,L]=r.useState(d),[C,E]=r.useState(d);G(()=>{p.current=!1,b.current=d;for(let x=0;x<C.length;x++){const u=y(C[x]);f.includes(u)?h.delete(u):h.get(u)!==!0&&h.set(u,!1)}},[C,f.length,f.join("-")]);const k=[];if(d!==j){let x=[...d];for(let u=0;u<C.length;u++){const v=C[u],R=y(v);f.includes(R)||(x.splice(u,0,v),k.push(v))}return i==="wait"&&k.length&&(x=k),E(T(x)),L(d),null}const{forceRender:N}=r.useContext(O);return n.jsx(n.Fragment,{children:C.map(x=>{const u=y(x),v=c&&!o?!1:d===C||f.includes(u),R=()=>{if(h.has(u))h.set(u,!0);else return;let P=!0;h.forEach($=>{$||(P=!1)}),P&&(N==null||N(),E(b.current),c&&(m==null||m()),a&&a())};return n.jsx(ee,{isPresent:v,initial:!p.current||s?void 0:!1,custom:t,presenceAffectsLayout:l,mode:i,root:w,onExitComplete:v?void 0:R,anchorX:g,children:x},u)})})},ne=""+new URL("welcome-background-BgBrDfr3.jpg",import.meta.url).href,me=()=>{const e=z(),{t}=B(),[s,a]=r.useState(0),[l,i]=r.useState(!1),c=[{icon:W,title:t("auth.welcome.slide1Title","Reserva Citas Fácilmente"),description:t("auth.welcome.slide1Description","Encuentra y reserva citas con tus negocios favoritos en solo unos toques")},{icon:A,title:t("auth.welcome.slide2Title","Descubre los Mejores Lugares"),description:t("auth.welcome.slide2Description","Explora salones, spas y centros de bienestar mejor valorados cerca de ti")},{icon:I,title:t("auth.welcome.slide3Title","Nunca Pierdas una Cita"),description:t("auth.welcome.slide3Description","Recibe recordatorios y gestiona todas tus reservas en un solo lugar")},{icon:F,title:t("auth.welcome.slide4Title","Únete a la Comunidad"),description:t("auth.welcome.slide4Description","Conecta con miles de usuarios y negocios verificados")}],g=()=>{s<c.length-1?a(s+1):e("/auth")},w=()=>{e("/auth")};return n.jsxs("div",{className:"fixed inset-0 overflow-hidden flex flex-col",children:[n.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${ne})`,backgroundPosition:"center 30%"},children:n.jsx("div",{className:"absolute inset-0 bg-black/60"})}),n.jsxs("div",{className:"relative z-10 flex-1 flex flex-col",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},children:[n.jsxs("div",{className:"flex justify-between items-center px-4 py-3",children:[n.jsx("span",{className:"text-white font-black text-4xl tracking-tight drop-shadow-lg",children:"Mí Turnow"}),n.jsx(S,{variant:"ghost",size:"sm",onClick:w,className:"text-white/80 hover:text-white hover:bg-white/10 h-8 px-3 text-sm",children:t("common.skip","Omitir")})]}),n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 min-h-0",children:[n.jsx(se,{mode:"wait",children:n.jsxs(V.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-white/10 backdrop-blur-sm rounded-2xl flex items-center justify-center border border-white/20",children:(()=>{const o=c[s].icon;return n.jsx(o,{className:"w-8 h-8 text-white"})})()}),n.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:c[s].title}),n.jsx("p",{className:"text-white/70 text-sm max-w-xs mx-auto leading-relaxed",children:c[s].description})]},s)}),n.jsx("div",{className:"flex gap-2 mt-6",children:c.map((o,m)=>n.jsx("button",{onClick:()=>a(m),className:`h-2 rounded-full transition-all duration-300 ${m===s?"w-6 bg-white":"w-2 bg-white/40"}`},m))})]}),n.jsxs("div",{className:"px-4 pb-3 space-y-2",children:[n.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-3 border border-white/20",children:n.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[n.jsx(U,{checked:l,onCheckedChange:o=>i(o),className:"mt-0.5 border-white/50 data-[state=checked]:bg-black data-[state=checked]:border-black"}),n.jsxs("span",{className:"text-xs text-white/80 leading-snug",children:[t("auth.welcome.termsText","Al continuar, aceptas nuestros")," ",n.jsx("button",{onClick:o=>{o.preventDefault(),e("/terms")},className:"text-white hover:underline font-medium",children:t("auth.welcome.termsLink","Términos de Servicio")})," ",t("common.and","y")," ",n.jsx("button",{onClick:o=>{o.preventDefault(),e("/privacy")},className:"text-white hover:underline font-medium",children:t("auth.welcome.privacyLink","Política de Privacidad")})]})]})}),n.jsxs(S,{onClick:g,disabled:!l,className:"w-full h-11 bg-black hover:bg-black/80 text-white font-semibold text-sm rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[s===c.length-1?t("auth.welcome.getStarted","Comenzar"):t("common.continue","Continuar"),n.jsx(X,{className:"ml-2 h-4 w-4"})]})]})]})]})};export{me as default};
