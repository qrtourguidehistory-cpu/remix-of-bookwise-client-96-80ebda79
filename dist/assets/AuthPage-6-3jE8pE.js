const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DmWR6eRu.js","./index-BsoTprCV.css","./index-CncvkJJ7.js"])))=>i.map(i=>d[i]);
import{j as o,B as Z,c as z,r as c,d as k,e as ge,P as B,f as U,g as T,h as N,i as be,D as xe,k as ve,l as we,m as Se,u as Ce,a as ye,b as Pe,n as P,_ as J}from"./index-DmWR6eRu.js";import{I as ee}from"./input-BKoKWKCT.js";import{u as je}from"./index-DI2j9Yu8.js";import{c as Ee}from"./index-BdQq_4o_.js";import{S as Ae}from"./search-B0Cnk4dy.js";import{C as Re}from"./check-uhJrGc2f.js";import{C as Ne}from"./chevron-down-C5Z9MGqu.js";import{m as D}from"./proxy-ZS3w6kSg.js";import{A as Te}from"./arrow-left-srpEuA7X.js";import{G as Le}from"./globe-ajk3mX7j.js";import{C as _e}from"./circle-help-Dam4wJR1.js";const De={apple:{icon:o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),label:"Apple",bgClass:"bg-primary hover:bg-primary/90",textClass:"text-primary-foreground"},google:{icon:o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),label:"Google",bgClass:"bg-white hover:bg-slate-50 border border-slate-200",textClass:"text-slate-900"},email:{icon:o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),o.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),label:"Email",bgClass:"bg-white hover:bg-slate-50 border border-slate-200",textClass:"text-slate-900"}},Y=({provider:e,onClick:n,isLoading:t=!1,className:a})=>{const r=De[e];return o.jsxs(Z,{onClick:n,disabled:t,className:z("w-full h-14 rounded-xl font-medium text-base gap-3 transition-all duration-200 active:scale-[0.98]",r.bgClass,r.textClass,a),children:[r.icon,o.jsxs("span",{children:["Continue with ",r.label]})]})};function Oe(e,n){return c.useReducer((t,a)=>n[t][a]??t,e)}var G="ScrollArea",[oe]=ge(G),[ke,S]=oe(G),te=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,type:a="hover",dir:r,scrollHideDelay:s=600,...i}=e,[l,d]=c.useState(null),[m,u]=c.useState(null),[h,f]=c.useState(null),[p,v]=c.useState(null),[R,I]=c.useState(null),[E,L]=c.useState(0),[H,g]=c.useState(0),[w,C]=c.useState(!1),[_,A]=c.useState(!1),b=k(n,y=>d(y)),x=je(r);return o.jsx(ke,{scope:t,type:a,dir:x,scrollHideDelay:s,scrollArea:l,viewport:m,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:C,scrollbarY:R,onScrollbarYChange:I,scrollbarYEnabled:_,onScrollbarYEnabledChange:A,onCornerWidthChange:L,onCornerHeightChange:g,children:o.jsx(B.div,{dir:x,...i,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":H+"px",...e.style}})})});te.displayName=G;var re="ScrollAreaViewport",ne=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,children:a,nonce:r,...s}=e,i=S(re,t),l=c.useRef(null),d=k(n,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(B.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});ne.displayName=re;var j="ScrollAreaScrollbar",$=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=S(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=r,l=e.orientation==="horizontal";return c.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),r.type==="hover"?o.jsx(Ie,{...a,ref:n,forceMount:t}):r.type==="scroll"?o.jsx(He,{...a,ref:n,forceMount:t}):r.type==="auto"?o.jsx(le,{...a,ref:n,forceMount:t}):r.type==="always"?o.jsx(q,{...a,ref:n}):null});$.displayName=j;var Ie=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=S(j,e.__scopeScrollArea),[s,i]=c.useState(!1);return c.useEffect(()=>{const l=r.scrollArea;let d=0;if(l){const m=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),o.jsx(U,{present:t||s,children:o.jsx(le,{"data-state":s?"visible":"hidden",...a,ref:n})})}),He=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=S(j,e.__scopeScrollArea),s=e.orientation==="horizontal",i=V(()=>d("SCROLL_END"),100),[l,d]=Oe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>d("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,r.scrollHideDelay,d]),c.useEffect(()=>{const m=r.viewport,u=s?"scrollLeft":"scrollTop";if(m){let h=m[u];const f=()=>{const p=m[u];h!==p&&(d("SCROLL"),i()),h=p};return m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,s,d,i]),o.jsx(U,{present:t||l!=="hidden",children:o.jsx(q,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:T(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:T(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),le=c.forwardRef((e,n)=>{const t=S(j,e.__scopeScrollArea),{forceMount:a,...r}=e,[s,i]=c.useState(!1),l=e.orientation==="horizontal",d=V(()=>{if(t.viewport){const m=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;i(l?m:u)}},10);return O(t.viewport,d),O(t.content,d),o.jsx(U,{present:a||s,children:o.jsx(q,{"data-state":s?"visible":"hidden",...r,ref:n})})}),q=c.forwardRef((e,n)=>{const{orientation:t="vertical",...a}=e,r=S(j,e.__scopeScrollArea),s=c.useRef(null),i=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=de(l.viewport,l.content),u={...a,sizes:l,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function h(f,p){return Fe(f,i.current,l,p)}return t==="horizontal"?o.jsx(ze,{...u,ref:n,onThumbPositionChange:()=>{if(r.viewport&&s.current){const f=r.viewport.scrollLeft,p=Q(f,l,r.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollLeft=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollLeft=h(f,r.dir))}}):t==="vertical"?o.jsx(Be,{...u,ref:n,onThumbPositionChange:()=>{if(r.viewport&&s.current){const f=r.viewport.scrollTop,p=Q(f,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollTop=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollTop=h(f))}}):null}),ze=c.forwardRef((e,n)=>{const{sizes:t,onSizesChange:a,...r}=e,s=S(j,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),m=k(n,d,s.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),o.jsx(se,{"data-orientation":"horizontal",...r,ref:m,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":F(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),he(f,h)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&i&&a({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:M(i.paddingLeft),paddingEnd:M(i.paddingRight)}})}})}),Be=c.forwardRef((e,n)=>{const{sizes:t,onSizesChange:a,...r}=e,s=S(j,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),m=k(n,d,s.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),o.jsx(se,{"data-orientation":"vertical",...r,ref:m,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":F(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const f=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),he(f,h)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&i&&a({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:M(i.paddingTop),paddingEnd:M(i.paddingBottom)}})}})}),[We,ae]=oe(j),se=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,sizes:a,hasThumb:r,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:h,...f}=e,p=S(j,t),[v,R]=c.useState(null),I=k(n,b=>R(b)),E=c.useRef(null),L=c.useRef(""),H=p.viewport,g=a.content-a.viewport,w=N(u),C=N(d),_=V(h,10);function A(b){if(E.current){const x=b.clientX-E.current.left,y=b.clientY-E.current.top;m({x,y})}}return c.useEffect(()=>{const b=x=>{const y=x.target;(v==null?void 0:v.contains(y))&&w(x,g)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[H,v,g,w]),c.useEffect(C,[a,C]),O(v,_),O(p.content,_),o.jsx(We,{scope:t,scrollbar:v,hasThumb:r,onThumbChange:N(s),onThumbPointerUp:N(i),onThumbPositionChange:C,onThumbPointerDown:N(l),children:o.jsx(B.div,{...f,ref:I,style:{position:"absolute",...f.style},onPointerDown:T(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),E.current=v.getBoundingClientRect(),L.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),A(b))}),onPointerMove:T(e.onPointerMove,A),onPointerUp:T(e.onPointerUp,b=>{const x=b.target;x.hasPointerCapture(b.pointerId)&&x.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=L.current,p.viewport&&(p.viewport.style.scrollBehavior=""),E.current=null})})})}),W="ScrollAreaThumb",ie=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=ae(W,e.__scopeScrollArea);return o.jsx(U,{present:t||r.hasThumb,children:o.jsx(Me,{ref:n,...a})})}),Me=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,style:a,...r}=e,s=S(W,t),i=ae(W,t),{onThumbPositionChange:l}=i,d=k(n,h=>i.onThumbChange(h)),m=c.useRef(void 0),u=V(()=>{m.current&&(m.current(),m.current=void 0)},100);return c.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(u(),!m.current){const p=Ve(h,l);m.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,u,l]),o.jsx(B.div,{"data-state":i.hasThumb?"visible":"hidden",...r,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:T(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),v=h.clientX-p.left,R=h.clientY-p.top;i.onThumbPointerDown({x:v,y:R})}),onPointerUp:T(e.onPointerUp,i.onThumbPointerUp)})});ie.displayName=W;var K="ScrollAreaCorner",ce=c.forwardRef((e,n)=>{const t=S(K,e.__scopeScrollArea),a=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&a?o.jsx(Ue,{...e,ref:n}):null});ce.displayName=K;var Ue=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,...a}=e,r=S(K,t),[s,i]=c.useState(0),[l,d]=c.useState(0),m=!!(s&&l);return O(r.scrollbarX,()=>{var h;const u=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(u),d(u)}),O(r.scrollbarY,()=>{var h;const u=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(u),i(u)}),m?o.jsx(B.div,{...a,ref:n,style:{width:s,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function M(e){return e?parseInt(e,10):0}function de(e,n){const t=e/n;return isNaN(t)?0:t}function F(e){const n=de(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-t)*n;return Math.max(a,18)}function Fe(e,n,t,a="ltr"){const r=F(t),s=r/2,i=n||s,l=r-i,d=t.scrollbar.paddingStart+i,m=t.scrollbar.size-t.scrollbar.paddingEnd-l,u=t.content-t.viewport,h=a==="ltr"?[0,u]:[u*-1,0];return ue([d,m],h)(e)}function Q(e,n,t="ltr"){const a=F(n),r=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=n.scrollbar.size-r,i=n.content-n.viewport,l=s-a,d=t==="ltr"?[0,i]:[i*-1,0],m=Ee(e,d);return ue([0,i],[0,l])(m)}function ue(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(t-e[0])}}function he(e,n){return e>0&&e<n}var Ve=(e,n=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},a=0;return function r(){const s={left:e.scrollLeft,top:e.scrollTop},i=t.left!==s.left,l=t.top!==s.top;(i||l)&&n(),t=s,a=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(a)};function V(e,n){const t=N(e),a=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(a.current),[]),c.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(t,n)},[t,n])}function O(e,n){const t=N(n);be(()=>{let a=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(t)});return r.observe(e),()=>{window.cancelAnimationFrame(a),r.unobserve(e)}}},[e,t])}var fe=te,Ye=ne,Xe=ce;const me=c.forwardRef(({className:e,children:n,...t},a)=>o.jsxs(fe,{ref:a,className:z("relative overflow-hidden",e),...t,children:[o.jsx(Ye,{className:"h-full w-full rounded-[inherit]",children:n}),o.jsx(pe,{}),o.jsx(Xe,{})]}));me.displayName=fe.displayName;const pe=c.forwardRef(({className:e,orientation:n="vertical",...t},a)=>o.jsx($,{ref:a,orientation:n,className:z("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:o.jsx(ie,{className:"relative flex-1 rounded-full bg-border"})}));pe.displayName=$.displayName;const X=[{code:"US",name:"United States",dialCode:"+1",flag:"ðŸ‡ºðŸ‡¸"},{code:"DO",name:"Dominican Republic",dialCode:"+1",flag:"ðŸ‡©ðŸ‡´"},{code:"MX",name:"Mexico",dialCode:"+52",flag:"ðŸ‡²ðŸ‡½"},{code:"ES",name:"Spain",dialCode:"+34",flag:"ðŸ‡ªðŸ‡¸"},{code:"CO",name:"Colombia",dialCode:"+57",flag:"ðŸ‡¨ðŸ‡´"},{code:"AR",name:"Argentina",dialCode:"+54",flag:"ðŸ‡¦ðŸ‡·"},{code:"CL",name:"Chile",dialCode:"+56",flag:"ðŸ‡¨ðŸ‡±"},{code:"PE",name:"Peru",dialCode:"+51",flag:"ðŸ‡µðŸ‡ª"},{code:"VE",name:"Venezuela",dialCode:"+58",flag:"ðŸ‡»ðŸ‡ª"},{code:"EC",name:"Ecuador",dialCode:"+593",flag:"ðŸ‡ªðŸ‡¨"},{code:"GT",name:"Guatemala",dialCode:"+502",flag:"ðŸ‡¬ðŸ‡¹"},{code:"CU",name:"Cuba",dialCode:"+53",flag:"ðŸ‡¨ðŸ‡º"},{code:"PR",name:"Puerto Rico",dialCode:"+1",flag:"ðŸ‡µðŸ‡·"},{code:"PA",name:"Panama",dialCode:"+507",flag:"ðŸ‡µðŸ‡¦"},{code:"CR",name:"Costa Rica",dialCode:"+506",flag:"ðŸ‡¨ðŸ‡·"},{code:"UY",name:"Uruguay",dialCode:"+598",flag:"ðŸ‡ºðŸ‡¾"},{code:"PY",name:"Paraguay",dialCode:"+595",flag:"ðŸ‡µðŸ‡¾"},{code:"BO",name:"Bolivia",dialCode:"+591",flag:"ðŸ‡§ðŸ‡´"},{code:"HN",name:"Honduras",dialCode:"+504",flag:"ðŸ‡­ðŸ‡³"},{code:"SV",name:"El Salvador",dialCode:"+503",flag:"ðŸ‡¸ðŸ‡»"},{code:"NI",name:"Nicaragua",dialCode:"+505",flag:"ðŸ‡³ðŸ‡®"},{code:"BR",name:"Brazil",dialCode:"+55",flag:"ðŸ‡§ðŸ‡·"},{code:"CA",name:"Canada",dialCode:"+1",flag:"ðŸ‡¨ðŸ‡¦"},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"ðŸ‡¬ðŸ‡§"},{code:"FR",name:"France",dialCode:"+33",flag:"ðŸ‡«ðŸ‡·"},{code:"DE",name:"Germany",dialCode:"+49",flag:"ðŸ‡©ðŸ‡ª"},{code:"IT",name:"Italy",dialCode:"+39",flag:"ðŸ‡®ðŸ‡¹"},{code:"PT",name:"Portugal",dialCode:"+351",flag:"ðŸ‡µðŸ‡¹"}],Ge=({open:e,onOpenChange:n,selectedCountry:t,onSelect:a})=>{const[r,s]=c.useState(""),i=X.filter(l=>l.name.toLowerCase().includes(r.toLowerCase())||l.dialCode.includes(r));return o.jsx(xe,{open:e,onOpenChange:n,children:o.jsxs(ve,{className:"max-w-sm max-h-[80vh]",children:[o.jsx(we,{children:o.jsx(Se,{children:"Select Country"})}),o.jsxs("div",{className:"relative",children:[o.jsx(Ae,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(ee,{placeholder:"Search countries...",value:r,onChange:l=>s(l.target.value),className:"pl-10"})]}),o.jsx(me,{className:"h-[300px] -mx-6 px-6",children:o.jsx("div",{className:"space-y-1",children:i.map(l=>o.jsxs("button",{onClick:()=>{a(l),n(!1)},className:z("w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors","hover:bg-accent",t.code===l.code&&"bg-accent"),children:[o.jsx("span",{className:"text-2xl",children:l.flag}),o.jsx("span",{className:"flex-1 text-left text-foreground",children:l.name}),o.jsx("span",{className:"text-muted-foreground",children:l.dialCode}),t.code===l.code&&o.jsx(Re,{className:"h-4 w-4 text-primary"})]},l.code))})})]})})},$e=({value:e,onChange:n,selectedCountry:t,onCountryChange:a,placeholder:r="Phone number",className:s})=>{const[i,l]=c.useState(!1),d=u=>{const h=u.replace(/\D/g,"");return h.length<=3?h:h.length<=6?`(${h.slice(0,3)}) ${h.slice(3)}`:`(${h.slice(0,3)}) ${h.slice(3,6)}-${h.slice(6,10)}`},m=u=>{const h=d(u.target.value);n(h)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:z("relative flex items-center",s),children:[o.jsxs("button",{type:"button",onClick:()=>l(!0),className:"flex items-center gap-1 px-4 py-4 bg-slate-50 border border-slate-200 border-r-0 rounded-l-xl hover:bg-slate-100 transition-colors",children:[o.jsx("span",{className:"text-xl",children:t.flag}),o.jsx("span",{className:"text-slate-900 font-medium",children:t.dialCode}),o.jsx(Ne,{className:"h-4 w-4 text-slate-500"})]}),o.jsx(ee,{type:"tel",value:e,onChange:m,placeholder:r,className:"flex-1 h-14 rounded-l-none rounded-r-xl border-l-0 text-lg bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-400"})]}),o.jsx(Ge,{open:i,onOpenChange:l,selectedCountry:t,onSelect:a})]})},so=()=>{const e=Ce(),{signInWithGoogle:n,signInWithApple:t,signInWithPhone:a,user:r,isLoading:s}=ye(),{t:i,i18n:l}=Pe(),[d,m]=c.useState(""),[u,h]=c.useState(X.find(g=>g.code==="DO")||X[0]),[f,p]=c.useState(null);c.useEffect(()=>{r&&!s&&e("/")},[r,s,e]);const v=async()=>{p("google");try{const{error:g}=await n();if(g){const w=g.message||"Failed to sign in with Google";if(w.includes("[16]")||w.toLowerCase().includes("reauth")){P("Se requiere reautenticaciÃ³n; abriendo flujo de Google en navegador...");try{const{supabase:C}=await J(async()=>{const{supabase:x}=await import("./index-DmWR6eRu.js").then(y=>y.av);return{supabase:x}},__vite__mapDeps([0,1]),import.meta.url),_="bookwise://login-callback",{data:A,error:b}=await C.auth.signInWithOAuth({provider:"google",options:{redirectTo:_,skipBrowserRedirect:!0}});if(b)P.error(b.message||"Failed to open Google OAuth fallback");else if(A!=null&&A.url){const{Browser:x}=await J(async()=>{const{Browser:y}=await import("./index-CncvkJJ7.js");return{Browser:y}},__vite__mapDeps([2,0,1]),import.meta.url);await x.open({url:A.url}),console.log("ðŸ” OAuth web fallback abierto")}else P.error("No se pudo generar URL de OAuth web")}catch(C){console.error("Fallback a OAuth web fallÃ³:",C),P.error("Fallback a OAuth web fallÃ³")}}else P.error(w);p(null)}else console.log("ðŸ” OAuth iniciado, esperando callback de deep link...")}catch{P.error("An unexpected error occurred"),p(null)}},R=async()=>{p("apple");try{const{error:g}=await t();g?(P.error(g.message||"Failed to sign in with Apple"),p(null)):console.log("ðŸŽ OAuth iniciado, esperando callback de deep link...")}catch{P.error("An unexpected error occurred"),p(null)}},I=()=>{e("/auth/email")},E=async()=>{if(!d||d.replace(/\D/g,"").length<10){P.error("Please enter a valid phone number");return}p("phone");const g=`${u.dialCode}${d.replace(/\D/g,"")}`,{error:w}=await a(g);w?(P.error(w.message||"Failed to send verification code"),p(null)):e("/auth/verify",{state:{phone:g}})},L=()=>{e("/welcome")},H=()=>{const g=["en","es","fr"],C=(g.indexOf(l.language)+1)%g.length;l.changeLanguage(g[C])};return o.jsxs(D.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:"min-h-screen min-h-dvh bg-white flex flex-col",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},children:[o.jsx("div",{className:"flex items-center justify-between p-4",children:o.jsx("button",{onClick:L,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 transition-colors",children:o.jsx(Te,{className:"h-6 w-6 text-slate-900"})})}),o.jsxs("div",{className:"flex-1 px-6 pb-8",children:[o.jsxs(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,duration:.4},children:[o.jsx("h1",{className:"text-slate-900 text-2xl font-bold mb-2",children:i("auth.login.title","Log in or sign up")}),o.jsx("p",{className:"text-slate-600 mb-8",children:i("auth.login.subtitle","Create an account or log in to book appointments")})]}),o.jsxs(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.4},className:"space-y-3 mb-8",children:[o.jsx(Y,{provider:"apple",onClick:R,isLoading:f==="apple"}),o.jsx(Y,{provider:"google",onClick:v,isLoading:f==="google"}),o.jsx(Y,{provider:"email",onClick:I,isLoading:f==="email"})]}),o.jsxs(D.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},className:"relative mb-8",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-slate-500",children:i("auth.login.or","OR")})})]}),o.jsxs(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.4},className:"space-y-4",children:[o.jsx($e,{value:d,onChange:m,selectedCountry:u,onCountryChange:h,placeholder:i("auth.login.enterPhone","Phone number")}),o.jsx(Z,{onClick:E,disabled:!d||f==="phone",className:"w-full h-14 text-lg font-semibold rounded-xl",children:f==="phone"?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i("auth.welcome.continue","Continue")})]})]}),o.jsx(D.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.4},className:"px-6",style:{paddingBottom:"calc(2rem + env(safe-area-inset-bottom))"},children:o.jsxs("div",{className:"flex items-center justify-center gap-6",children:[o.jsxs("button",{onClick:H,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors",children:[o.jsx(Le,{className:"h-5 w-5"}),o.jsx("span",{children:l.language.toUpperCase()})]}),o.jsxs("button",{className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors",children:[o.jsx(_e,{className:"h-5 w-5"}),o.jsx("span",{children:i("auth.login.support","Support")})]})]})})]})};export{so as default};
