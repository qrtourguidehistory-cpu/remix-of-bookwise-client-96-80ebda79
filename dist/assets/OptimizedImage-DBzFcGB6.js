import{r as t,j as r,c as n}from"./index-DQJT4g5E.js";const C=t.memo(function({src:s,alt:l,className:g,placeholderColor:b="bg-gradient-to-br from-primary/20 to-primary/5",loading:y="lazy",onError:o,onClick:p}){const[h,u]=t.useState(!1),[j,i]=t.useState(!1),[v,a]=t.useState(!0),d=t.useRef(null),f=t.useRef(!1),x=b||(e=>{const c=["bg-gradient-to-br from-primary/20 to-primary/5","bg-gradient-to-br from-blue-200/20 to-blue-500/5","bg-gradient-to-br from-purple-200/20 to-purple-500/5","bg-gradient-to-br from-pink-200/20 to-pink-500/5","bg-gradient-to-br from-green-200/20 to-green-500/5"],m=e.charCodeAt(0)%c.length;return c[m]})(l);t.useEffect(()=>{if(!s){i(!0);return}u(!1),i(!1),a(!0),f.current=!1;const e=new Image,c=()=>{f.current||(f.current=!0,u(!0),setTimeout(()=>a(!1),100))},m=()=>{if(i(!0),a(!1),o){const N={currentTarget:d.current,target:d.current};o(N)}};return e.onload=c,e.onerror=m,e.src=s,()=>{e.onload=null,e.onerror=null}},[s,o]);const w=()=>{u(!0),setTimeout(()=>a(!1),100)},I=e=>{i(!0),a(!1),o&&o(e)};return j?r.jsx("div",{className:n("w-full h-full flex items-center justify-center",x,g),onClick:p,children:r.jsx("span",{className:"text-2xl font-bold text-primary/30",children:l.charAt(0).toUpperCase()})}):r.jsxs("div",{className:n("relative w-full h-full overflow-hidden",g),onClick:p,children:[v&&r.jsx("div",{className:n("absolute inset-0 flex items-center justify-center transition-opacity duration-300",h?"opacity-0":"opacity-100"),children:r.jsx("div",{className:n("w-full h-full",x),children:r.jsx("span",{className:"text-2xl font-bold text-primary/30",children:l.charAt(0).toUpperCase()})})}),r.jsx("img",{ref:d,src:s,alt:l,loading:y,onLoad:w,onError:I,className:n("w-full h-full object-cover transition-opacity duration-300",h?"opacity-100":"opacity-0"),style:{imageRendering:"auto"}})]})});export{C as O};
