import{u as A,b as B,a as I,j as e,B as c}from"./index-CBIizFiU.js";import{B as l}from"./BottomNavigation-RRovRm9q.js";import{A as S,a as U,b as W}from"./avatar-DcdZcv9m.js";import{u as L}from"./useAppointments-Dp1N0cB-.js";import{u as R,H as $}from"./useFavorites-DhgBgAAK.js";import{U as x}from"./user-CJDpa0Xs.js";import{B as D}from"./bell-Dg8VrwxP.js";import{S as E}from"./settings-IzBFVTTu.js";import{C as F}from"./circle-help-DNldXYvB.js";import{C as H}from"./calendar-BD0_Bxkw.js";import{S as P}from"./star-Cp5w98QE.js";import{L as q}from"./log-out-BBELhoA9.js";import"./search-BXGji4gq.js";const te=()=>{var n,d,m;const a=A(),{t}=B(),{user:s,profile:r,signOut:f,isGuest:u,isLoading:p}=I(),{appointments:h}=L(),{favoriteIds:g}=R();if(p)return e.jsxs("div",{className:"min-h-screen bg-background pb-20 flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),e.jsx(l,{})]});const i=r!=null&&r.first_name?`${r.first_name} ${r.last_name||""}`.trim():(n=s==null?void 0:s.user_metadata)!=null&&n.first_name?`${s.user_metadata.first_name} ${s.user_metadata.last_name||""}`.trim():((d=s==null?void 0:s.email)==null?void 0:d.split("@")[0])||t("profile.guest"),b=(s==null?void 0:s.email)||t("profile.noEmail"),j=(r==null?void 0:r.avatar_url)||((m=s==null?void 0:s.user_metadata)==null?void 0:m.avatar_url)||"",v=h.length,N=g.size,w=0,y=o=>o.split(" ").map(_=>_[0]).join("").toUpperCase().slice(0,2)||"U",k=async()=>{await f(),a("/auth")},C=[{icon:x,label:t("profile.personalInfo"),href:"/profile/personal"},{icon:D,label:t("profile.notifications"),href:"/profile/notifications"},{icon:E,label:t("profile.settings"),href:"/profile/settings"},{icon:F,label:t("profile.helpSupport"),href:"/profile/help"}];return u&&!s?e.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[e.jsx("header",{className:"bg-card border-b border-border",children:e.jsx("div",{className:"px-4 py-6 max-w-lg mx-auto text-center",children:e.jsx("h1",{className:"text-xl font-bold text-foreground",children:t("profile.title")})})}),e.jsxs("main",{className:"max-w-lg mx-auto px-4 py-16 text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{className:"w-10 h-10 text-primary"})}),e.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:t("profile.loginRequired")}),e.jsx("p",{className:"text-muted-foreground mb-6",children:t("profile.loginRequiredDesc")}),e.jsx(c,{onClick:()=>a("/auth"),children:t("auth.login.title")})]}),e.jsx(l,{})]}):e.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[e.jsx("header",{className:"bg-card border-b border-border",children:e.jsxs("div",{className:"px-5 py-6 max-w-lg mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs(S,{className:"w-16 h-16 border-2 border-border",children:[e.jsx(U,{src:j}),e.jsx(W,{className:"bg-muted text-muted-foreground text-lg font-medium",children:y(i)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-semibold text-foreground leading-tight",children:i}),e.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:b})]})]}),e.jsx(c,{variant:"outline",className:"w-full h-11 font-normal",onClick:()=>a("/profile/personal"),children:t("profile.editProfile")})]})}),e.jsxs("main",{className:"max-w-lg mx-auto px-4 py-6",children:[e.jsx("section",{className:"mb-5 animate-fade-in",children:e.jsx("div",{className:"bg-card rounded-xl border border-border shadow-sm overflow-hidden",children:e.jsxs("div",{className:"flex divide-x divide-border",children:[e.jsxs("button",{onClick:()=>a("/appointments"),className:"flex-1 flex items-center gap-3 px-4 py-3 hover:bg-muted/50 active:bg-muted transition-colors group",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-muted flex items-center justify-center group-hover:bg-muted/80 transition-colors flex-shrink-0",children:e.jsx(H,{className:"w-4 h-4 text-foreground",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 text-left min-w-0",children:[e.jsx("p",{className:"text-lg font-bold text-foreground leading-none",children:v}),e.jsx("p",{className:"text-[11px] text-muted-foreground font-medium mt-0.5",children:t("nav.appointments")})]})]}),e.jsxs("button",{onClick:()=>a("/favorites"),className:"flex-1 flex items-center gap-3 px-4 py-3 hover:bg-muted/50 active:bg-muted transition-colors group",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-muted flex items-center justify-center group-hover:bg-muted/80 transition-colors flex-shrink-0",children:e.jsx($,{className:"w-4 h-4 text-foreground",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 text-left min-w-0",children:[e.jsx("p",{className:"text-lg font-bold text-foreground leading-none",children:N}),e.jsx("p",{className:"text-[11px] text-muted-foreground font-medium mt-0.5",children:t("nav.favorites")})]})]}),e.jsxs("button",{onClick:()=>a("/reviews"),className:"flex-1 flex items-center gap-3 px-4 py-3 hover:bg-muted/50 active:bg-muted transition-colors group",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-muted flex items-center justify-center group-hover:bg-muted/80 transition-colors flex-shrink-0",children:e.jsx(P,{className:"w-4 h-4 text-foreground",strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 text-left min-w-0",children:[e.jsx("p",{className:"text-lg font-bold text-foreground leading-none",children:w}),e.jsx("p",{className:"text-[11px] text-muted-foreground font-medium mt-0.5",children:t("profile.reviews")})]})]})]})})}),e.jsx("section",{className:"mb-3 animate-fade-in",style:{animationDelay:"0.1s"},children:e.jsx("div",{className:"bg-card rounded-2xl border border-border shadow-sm overflow-hidden",children:C.map(o=>e.jsxs("button",{onClick:()=>a(o.href),className:"w-full flex items-center gap-4 px-5 py-4 hover:bg-muted/50 active:bg-muted transition-colors border-b border-border last:border-0",children:[e.jsx(o.icon,{className:"w-5 h-5 text-foreground flex-shrink-0",strokeWidth:2}),e.jsx("span",{className:"text-[15px] font-normal text-foreground text-left flex-1",children:o.label})]},o.label))})}),e.jsx("section",{className:"mb-3 animate-fade-in",style:{animationDelay:"0.15s"},children:e.jsx("div",{className:"bg-card rounded-2xl border border-border shadow-sm overflow-hidden",children:e.jsxs("button",{onClick:k,className:"w-full flex items-center gap-4 px-5 py-4 hover:bg-muted/50 active:bg-muted transition-colors",children:[e.jsx(q,{className:"w-5 h-5 text-foreground flex-shrink-0",strokeWidth:2}),e.jsx("span",{className:"text-[15px] font-normal text-foreground text-left flex-1",children:t("profile.logout")})]})})}),e.jsx("p",{className:"text-center text-xs text-muted-foreground mt-8",children:"Bookwise v1.0.0"})]}),e.jsx(l,{})]})};export{te as default};
