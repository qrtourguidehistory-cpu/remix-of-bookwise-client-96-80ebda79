import{v as M,u as ce,j as e,r as p,p as _e,e as Le,s as ze,g as V,P as q,d as I,q as Ee,c as U,b as de,X as ue,B as Be,a as Te,Q as G,O as Ve}from"./index-BG1LYuWX.js";import{B as Ie}from"./BottomNavigation-BT3gnua3.js";import{I as Fe}from"./input-DcjDdRGv.js";import{S as qe}from"./search-BzpmbHio.js";import{M as me}from"./map-pin-Bn7QatGi.js";import{c as pe,G as Oe}from"./index-DZQSATC_.js";import{u as He}from"./index-DKWNOUGn.js";import{u as Ke}from"./index-C_plhFvB.js";import{S as ee,a as ae,b as te,c as re,d as se,e as $e}from"./select-BRkl8Vcq.js";import{H as he,u as Ge}from"./useFavorites-soqEyxSq.js";import{S as Ue}from"./star-BFYT-V6H.js";import{T as Qe}from"./tag-Fx_F4CGN.js";import{U as Je}from"./users-CWL6MNru.js";import{B as ne}from"./BusinessCard-DyBMCPAY.js";import{u as Ye}from"./useEstablishments-BvWJuIQo.js";import{U as We}from"./user-CnrJusWJ.js";import{E as Xe}from"./eye-CWY8Pm_B.js";import{S as Ze}from"./scissors-CHi-D6b1.js";import"./calendar-BCREpcoo.js";import"./chevron-down-DXDfB_ka.js";import"./check-RMo93UJa.js";import"./chevron-up-Cd8oKj0b.js";import"./ImageCarousel-BG6F2j_r.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=M("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=M("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=M("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=M("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=M("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=M("HandMetal",[["path",{d:"M18 12.5V10a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1.4",key:"wc6myp"}],["path",{d:"M14 11V9a2 2 0 1 0-4 0v2",key:"94qvcw"}],["path",{d:"M10 10.5V5a2 2 0 1 0-4 0v9",key:"m1ah89"}],["path",{d:"m7 15-1.76-1.76a2 2 0 0 0-2.83 2.82l3.6 3.6C7.5 21.14 9.2 22 12 22h2a8 8 0 0 0 8-8V7a2 2 0 1 0-4 0v5",key:"t1skq1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=M("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=M("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=M("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=M("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=M("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=M("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);function da({value:t,onChange:s,placeholder:o="Buscar salones, servicios...",onMapClick:l,onFilterClick:r,showFilter:n=!0}){const i=ce(),u=()=>{l?l():i("/map")};return e.jsxs("div",{className:"relative flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(qe,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(Fe,{type:"text",value:t,onChange:g=>s(g.target.value),placeholder:o,className:"pl-12 pr-12 h-12 rounded-xl bg-secondary border-0 text-foreground placeholder:text-muted-foreground focus-visible:ring-2 focus-visible:ring-primary"}),e.jsx("button",{onClick:u,className:"absolute right-3 top-1/2 -translate-y-1/2 p-1.5 rounded-lg bg-primary/10 text-primary hover:bg-primary/20 transition-colors",children:e.jsx(me,{className:"w-4 h-4"})})]}),n&&r&&e.jsx("button",{onClick:r,className:"flex-shrink-0 p-3 rounded-xl bg-secondary text-foreground hover:bg-secondary/80 transition-colors",children:e.jsx(ia,{className:"w-5 h-5"})})]})}var fe=["PageUp","PageDown"],ge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},F="Slider",[J,ua,ma]=ze(F),[be]=Le(F,[ma]),[pa,K]=be(F),ye=p.forwardRef((t,s)=>{const{name:o,min:l=0,max:r=100,step:n=1,orientation:i="horizontal",disabled:u=!1,minStepsBetweenThumbs:g=0,defaultValue:h=[l],value:j,onValueChange:m=()=>{},onValueCommit:x=()=>{},inverted:w=!1,form:c,...v}=t,y=p.useRef(new Set),b=p.useRef(0),k=i==="horizontal"?ha:fa,[S=[],L]=_e({prop:j,defaultProp:h,onChange:a=>{var f;(f=[...y.current][b.current])==null||f.focus(),m(a)}}),B=p.useRef(S);function z(a){const d=va(S,a);E(a,d)}function O(a){E(a,b.current)}function $(){const a=B.current[b.current];S[b.current]!==a&&x(S)}function E(a,d,{commit:f}={commit:!1}){const _=Ca(n),C=Na(Math.round((a-l)/n)*n+l,_),N=pe(C,[l,r]);L((P=[])=>{const D=ba(P,N,d);if(wa(D,g*n)){b.current=D.indexOf(N);const A=String(D)!==String(P);return A&&f&&x(D),A?D:P}else return P})}return e.jsx(pa,{scope:t.__scopeSlider,name:o,disabled:u,min:l,max:r,valueIndexToChangeRef:b,thumbs:y.current,values:S,orientation:i,form:c,children:e.jsx(J.Provider,{scope:t.__scopeSlider,children:e.jsx(J.Slot,{scope:t.__scopeSlider,children:e.jsx(k,{"aria-disabled":u,"data-disabled":u?"":void 0,...v,ref:s,onPointerDown:V(v.onPointerDown,()=>{u||(B.current=S)}),min:l,max:r,inverted:w,onSlideStart:u?void 0:z,onSlideMove:u?void 0:O,onSlideEnd:u?void 0:$,onHomeKeyDown:()=>!u&&E(l,0,{commit:!0}),onEndKeyDown:()=>!u&&E(r,S.length-1,{commit:!0}),onStepKeyDown:({event:a,direction:d})=>{if(!u){const C=fe.includes(a.key)||a.shiftKey&&ge.includes(a.key)?10:1,N=b.current,P=S[N],D=n*C*d;E(P+D,N,{commit:!0})}}})})})})});ye.displayName=F;var[ve,je]=be(F,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ha=p.forwardRef((t,s)=>{const{min:o,max:l,dir:r,inverted:n,onSlideStart:i,onSlideMove:u,onSlideEnd:g,onStepKeyDown:h,...j}=t,[m,x]=p.useState(null),w=I(s,k=>x(k)),c=p.useRef(void 0),v=He(r),y=v==="ltr",b=y&&!n||!y&&n;function R(k){const S=c.current||m.getBoundingClientRect(),L=[0,S.width],z=Z(L,b?[o,l]:[l,o]);return c.current=S,z(k-S.left)}return e.jsx(ve,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:e.jsx(Se,{dir:v,"data-orientation":"horizontal",...j,ref:w,style:{...j.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const S=R(k.clientX);i==null||i(S)},onSlideMove:k=>{const S=R(k.clientX);u==null||u(S)},onSlideEnd:()=>{c.current=void 0,g==null||g()},onStepKeyDown:k=>{const L=xe[b?"from-left":"from-right"].includes(k.key);h==null||h({event:k,direction:L?-1:1})}})})}),fa=p.forwardRef((t,s)=>{const{min:o,max:l,inverted:r,onSlideStart:n,onSlideMove:i,onSlideEnd:u,onStepKeyDown:g,...h}=t,j=p.useRef(null),m=I(s,j),x=p.useRef(void 0),w=!r;function c(v){const y=x.current||j.current.getBoundingClientRect(),b=[0,y.height],k=Z(b,w?[l,o]:[o,l]);return x.current=y,k(v-y.top)}return e.jsx(ve,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:e.jsx(Se,{"data-orientation":"vertical",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const y=c(v.clientY);n==null||n(y)},onSlideMove:v=>{const y=c(v.clientY);i==null||i(y)},onSlideEnd:()=>{x.current=void 0,u==null||u()},onStepKeyDown:v=>{const b=xe[w?"from-bottom":"from-top"].includes(v.key);g==null||g({event:v,direction:b?-1:1})}})})}),Se=p.forwardRef((t,s)=>{const{__scopeSlider:o,onSlideStart:l,onSlideMove:r,onSlideEnd:n,onHomeKeyDown:i,onEndKeyDown:u,onStepKeyDown:g,...h}=t,j=K(F,o);return e.jsx(q.span,{...h,ref:s,onKeyDown:V(t.onKeyDown,m=>{m.key==="Home"?(i(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):fe.concat(ge).includes(m.key)&&(g(m),m.preventDefault())}),onPointerDown:V(t.onPointerDown,m=>{const x=m.target;x.setPointerCapture(m.pointerId),m.preventDefault(),j.thumbs.has(x)?x.focus():l(m)}),onPointerMove:V(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&r(m)}),onPointerUp:V(t.onPointerUp,m=>{const x=m.target;x.hasPointerCapture(m.pointerId)&&(x.releasePointerCapture(m.pointerId),n(m))})})}),we="SliderTrack",Ce=p.forwardRef((t,s)=>{const{__scopeSlider:o,...l}=t,r=K(we,o);return e.jsx(q.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...l,ref:s})});Ce.displayName=we;var Y="SliderRange",Ne=p.forwardRef((t,s)=>{const{__scopeSlider:o,...l}=t,r=K(Y,o),n=je(Y,o),i=p.useRef(null),u=I(s,i),g=r.values.length,h=r.values.map(x=>Me(x,r.min,r.max)),j=g>1?Math.min(...h):0,m=100-Math.max(...h);return e.jsx(q.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...l,ref:u,style:{...t.style,[n.startEdge]:j+"%",[n.endEdge]:m+"%"}})});Ne.displayName=Y;var W="SliderThumb",ke=p.forwardRef((t,s)=>{const o=ua(t.__scopeSlider),[l,r]=p.useState(null),n=I(s,u=>r(u)),i=p.useMemo(()=>l?o().findIndex(u=>u.ref.current===l):-1,[o,l]);return e.jsx(ga,{...t,ref:n,index:i})}),ga=p.forwardRef((t,s)=>{const{__scopeSlider:o,index:l,name:r,...n}=t,i=K(W,o),u=je(W,o),[g,h]=p.useState(null),j=I(s,R=>h(R)),m=g?i.form||!!g.closest("form"):!0,x=Ee(g),w=i.values[l],c=w===void 0?0:Me(w,i.min,i.max),v=ya(l,i.values.length),y=x==null?void 0:x[u.size],b=y?ja(y,c,u.direction):0;return p.useEffect(()=>{if(g)return i.thumbs.add(g),()=>{i.thumbs.delete(g)}},[g,i.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${c}% + ${b}px)`},children:[e.jsx(J.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(q.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":i.min,"aria-valuenow":w,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...n,ref:j,style:w===void 0?{display:"none"}:t.style,onFocus:V(t.onFocus,()=>{i.valueIndexToChangeRef.current=l})})}),m&&e.jsx(Pe,{name:r??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:w},l)]})});ke.displayName=W;var xa="RadioBubbleInput",Pe=p.forwardRef(({__scopeSlider:t,value:s,...o},l)=>{const r=p.useRef(null),n=I(r,l),i=Ke(s);return p.useEffect(()=>{const u=r.current;if(!u)return;const g=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(g,"value").set;if(i!==s&&j){const m=new Event("input",{bubbles:!0});j.call(u,s),u.dispatchEvent(m)}},[i,s]),e.jsx(q.input,{style:{display:"none"},...o,ref:n,defaultValue:s})});Pe.displayName=xa;function ba(t=[],s,o){const l=[...t];return l[o]=s,l.sort((r,n)=>r-n)}function Me(t,s,o){const n=100/(o-s)*(t-s);return pe(n,[0,100])}function ya(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function va(t,s){if(t.length===1)return 0;const o=t.map(r=>Math.abs(r-s)),l=Math.min(...o);return o.indexOf(l)}function ja(t,s,o){const l=t/2,n=Z([0,50],[0,l]);return(l-n(s)*o)*o}function Sa(t){return t.slice(0,-1).map((s,o)=>t[o+1]-s)}function wa(t,s){if(s>0){const o=Sa(t);return Math.min(...o)>=s}return!0}function Z(t,s){return o=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const l=(s[1]-s[0])/(t[1]-t[0]);return s[0]+l*(o-t[0])}}function Ca(t){return(String(t).split(".")[1]||"").length}function Na(t,s){const o=Math.pow(10,s);return Math.round(t*o)/o}var Re=ye,ka=Ce,Pa=Ne,Ma=ke;const X=p.forwardRef(({className:t,...s},o)=>e.jsxs(Re,{ref:o,className:U("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(ka,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Pa,{className:"absolute h-full bg-primary"})}),e.jsx(Ma,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));X.displayName=Re.displayName;const ie={sortBy:"best-match",maxPrice:2e4,minPrice:0,hasPromotions:!1,acceptsGroups:!1,establishmentType:"all",country:"",city:""},De={"República Dominicana":["Santo Domingo","Santo Domingo Este","Santo Domingo Oeste","Santo Domingo Norte","Santiago","La Vega","San Cristóbal","Puerto Plata","La Romana","San Pedro de Macorís","Higüey","San Francisco de Macorís","Moca","Bonao","Barahona","Azua","Bani","Mao","Nagua","Samaná","San Juan de la Maguana","Baní","Constanza","Jarabacoa","Las Terrenas","Boca Chica","Juan Dolio","Punta Cana","Bávaro","Sosúa","Cabarete","Monte Cristi"],México:["Ciudad de México","Guadalajara","Monterrey","Puebla","Tijuana","León","Juárez","Zapopan","Mérida","Cancún","Querétaro","San Luis Potosí"],Colombia:["Bogotá","Medellín","Cali","Barranquilla","Cartagena","Cúcuta","Bucaramanga","Pereira","Santa Marta","Ibagué","Manizales","Villavicencio"],Argentina:["Buenos Aires","Córdoba","Rosario","Mendoza","La Plata","San Miguel de Tucumán","Mar del Plata","Salta","Santa Fe","San Juan","Resistencia","Neuquén"],Perú:["Lima","Arequipa","Trujillo","Chiclayo","Piura","Cusco","Iquitos","Huancayo","Tacna","Ayacucho","Pucallpa","Chimbote"],Chile:["Santiago","Valparaíso","Concepción","La Serena","Antofagasta","Temuco","Rancagua","Talca","Arica","Puerto Montt","Coquimbo","Iquique"],Venezuela:["Caracas","Maracaibo","Valencia","Barquisimeto","Maracay","Ciudad Guayana","Barcelona","Maturín","Cumaná","Mérida","San Cristóbal","Cabimas"],Ecuador:["Quito","Guayaquil","Cuenca","Santo Domingo","Machala","Manta","Portoviejo","Loja","Ambato","Riobamba","Esmeraldas","Ibarra"],Guatemala:["Ciudad de Guatemala","Mixco","Villa Nueva","Quetzaltenango","Escuintla","Chinautla","Huehuetenango","Chimaltenango","Cobán","Amatitlán","Antigua Guatemala","Retalhuleu"],"Costa Rica":["San José","Alajuela","Cartago","Heredia","Puntarenas","Liberia","Limón","San Isidro","Pococí","San Carlos","Desamparados","Puriscal"],Panamá:["Ciudad de Panamá","San Miguelito","Tocumen","David","Colón","La Chorrera","Santiago","Chitré","Penonomé","La Concepción","Changuinola","Aguadulce"]},Ra=Object.keys(De);function Da({isOpen:t,onClose:s,onApply:o,initialFilters:l}){const{t:r}=de(),[n,i]=p.useState(l||ie),[u,g]=p.useState([]);if(p.useEffect(()=>{n.country?g(De[n.country]||[]):g([])},[n.country]),!t)return null;const h=()=>{o(n),s()},j=()=>{i(ie)},m=[{id:"best-match",icon:he,label:r("filters.bestMatch","Mejor coincidencia")},{id:"nearest",icon:me,label:r("filters.nearest","Más cercanos")},{id:"top-rated",icon:Ue,label:r("filters.topRated","Mejor valorado")}],x=[{id:"hasPromotions",icon:Qe,label:r("filters.hasPromotions","Ofrece promociones")},{id:"acceptsGroups",icon:Je,label:r("filters.acceptsGroups","Acepta grupos")}],w=[{id:"all",label:r("filters.allTypes","Todos")},{id:"women-only",label:r("filters.womenOnly","Solo mujeres")},{id:"men-only",label:r("filters.menOnly","Solo hombres")}];return e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end sm:items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),e.jsxs("div",{className:"relative bg-card w-full max-w-lg rounded-t-3xl sm:rounded-2xl max-h-[85vh] mb-24 sm:mb-0 overflow-y-auto animate-slide-up",children:[e.jsxs("div",{className:"sticky top-0 bg-card z-10 flex items-center justify-between p-4 border-b border-border",children:[e.jsx("h2",{className:"text-lg font-semibold text-foreground",children:r("filters.title","Filtros")}),e.jsx("button",{onClick:s,className:"p-2 rounded-full hover:bg-secondary transition-colors",children:e.jsx(ue,{className:"w-5 h-5 text-muted-foreground"})})]}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:r("filters.filterBy","Filtrar por")}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:m.map(c=>{const v=c.icon,y=n.sortBy===c.id;return e.jsxs("button",{onClick:()=>i({...n,sortBy:c.id}),className:`flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all ${y?"border-primary bg-primary/5":"border-border hover:border-primary/30"}`,children:[e.jsx(v,{className:`w-6 h-6 ${y?"text-primary":"text-muted-foreground"}`}),e.jsx("span",{className:`text-xs text-center font-medium ${y?"text-primary":"text-foreground"}`,children:c.label})]},c.id)})})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("section",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(Oe,{className:"w-4 h-4"}),r("filters.location","Ubicación")]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:r("filters.country","País")}),e.jsxs(ee,{value:n.country,onValueChange:c=>{i({...n,country:c,city:""})},children:[e.jsx(ae,{className:"h-10 bg-background border-input",children:e.jsx(te,{placeholder:r("filters.selectCountry","Seleccionar país")})}),e.jsx(re,{className:"max-h-[300px] overflow-y-auto bg-popover z-[70]",position:"popper",sideOffset:4,children:Ra.map(c=>e.jsx(se,{value:c,className:"cursor-pointer",children:c},c))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:r("filters.city","Ciudad")}),e.jsxs(ee,{value:n.city,onValueChange:c=>i({...n,city:c}),disabled:!n.country||u.length===0,children:[e.jsx(ae,{className:"h-10 bg-background border-input disabled:opacity-50",children:e.jsx(te,{placeholder:n.country?r("filters.selectCity","Seleccionar ciudad"):r("filters.selectCountryFirst","Primero selecciona un país")})}),e.jsx(re,{className:"max-h-[250px] overflow-y-auto bg-popover z-[70]",position:"popper",sideOffset:4,children:u.map(c=>e.jsx(se,{value:c,className:"cursor-pointer",children:c},c))})]})]})]})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground mb-4",children:r("filters.priceRange","Rango de precio")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:r("filters.minPrice","Precio mín.")}),e.jsxs("span",{className:"text-sm font-medium text-foreground",children:["DOP ",n.minPrice.toLocaleString()]})]}),e.jsx(X,{value:[n.minPrice],onValueChange:([c])=>i({...n,minPrice:c}),max:n.maxPrice,min:0,step:100,className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:r("filters.maxPrice","Precio máx.")}),e.jsxs("span",{className:"text-sm font-medium text-foreground",children:["DOP ",n.maxPrice.toLocaleString(),"+"]})]}),e.jsx(X,{value:[n.maxPrice],onValueChange:([c])=>i({...n,maxPrice:c}),max:2e4,min:n.minPrice,step:500,className:"w-full"})]})]})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:r("filters.bookingOptions","Opciones de reserva")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(c=>{const v=c.icon,y=n[c.id];return e.jsxs("button",{onClick:()=>i({...n,[c.id]:!n[c.id]}),className:`flex items-center gap-2 px-4 py-2.5 rounded-full border transition-all ${y?"border-primary bg-primary/5 text-primary":"border-border text-foreground hover:border-primary/30"}`,children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:c.label})]},c.id)})})]}),e.jsx("div",{className:"h-px bg-border"}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-foreground mb-3",children:r("filters.establishmentType","Tipo de establecimiento")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(c=>{const v=n.establishmentType===c.id;return e.jsx("button",{onClick:()=>i({...n,establishmentType:c.id}),className:`px-4 py-2.5 rounded-full border transition-all ${v?"border-primary bg-primary text-primary-foreground":"border-border text-foreground hover:border-primary/30"}`,children:e.jsx("span",{className:"text-sm font-medium",children:c.label})},c.id)})})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-card border-t border-border p-4 flex items-center gap-4",children:[e.jsx("button",{onClick:j,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:r("filters.clearAll","Eliminar todos")}),e.jsx(Be,{onClick:h,className:"flex-1 h-12 rounded-full bg-foreground text-background hover:bg-foreground/90",children:r("filters.apply","Aplicar")})]})]})]})}const Aa=[{id:"all",label:"all",count:34},{id:"hair-salon",label:"hair-salon",count:2},{id:"nails",label:"nails",count:2},{id:"eyebrows-lashes",label:"eyebrows-lashes",count:2},{id:"beauty-salon",label:"beauty-salon",count:2},{id:"medspa",label:"medspa",count:2},{id:"barber",label:"barber",count:2},{id:"massage",label:"massage",count:2},{id:"spa-sauna",label:"spa-sauna",count:2},{id:"waxing",label:"waxing",count:2},{id:"tattoo-piercing",label:"tattoo-piercing",count:2},{id:"tanning",label:"tanning",count:2},{id:"fitness-recovery",label:"fitness-recovery",count:2},{id:"physical-therapy",label:"physical-therapy",count:2},{id:"health-practice",label:"health-practice",count:2},{id:"pet-grooming",label:"pet-grooming",count:2},{id:"restaurant",label:"restaurant",count:2},{id:"other",label:"other",count:2}],le={all:Q,"hair-salon":Ze,nails:oe,"eyebrows-lashes":Xe,"beauty-salon":he,medspa:ca,barber:We,massage:oe,"spa-sauna":aa,waxing:sa,"tattoo-piercing":oa,tanning:$e,"fitness-recovery":ta,"physical-therapy":ea,"health-practice":la,"pet-grooming":na,other:ra},T=t=>{if(!t)return"other";const s=t.toLowerCase().replace(/_/g,"-").trim();return{salon:"hair-salon","hair-salon":"hair-salon",hair_salon:"hair-salon",peluqueria:"hair-salon",peluquería:"hair-salon",peluquerias:"hair-salon",peluquerías:"hair-salon",barberia:"barber",barbería:"barber",barber:"barber",barberias:"barber",barberías:"barber",nails:"nails",uñas:"nails",unas:"nails",nail:"nails","nail-art":"nails",nail_art:"nails",manicure:"nails",pedicure:"nails",spa:"spa-sauna","spa-sauna":"spa-sauna",spa_sauna:"spa-sauna",sauna:"spa-sauna",beauty:"beauty-salon","beauty-salon":"beauty-salon",beauty_salon:"beauty-salon",maquillaje:"beauty-salon",makeup:"beauty-salon",faciales:"beauty-salon",facial:"beauty-salon","facial-treatment":"beauty-salon","tratamiento-facial":"beauty-salon",massage:"massage",masaje:"massage",masajes:"massage",medspa:"medspa","med-spa":"medspa","medicina-estetica":"medspa","medicina-estética":"medspa","eyebrows-lashes":"eyebrows-lashes",eyebrows_lashes:"eyebrows-lashes",cejas:"eyebrows-lashes",pestañas:"eyebrows-lashes",pestanas:"eyebrows-lashes",microblading:"eyebrows-lashes",waxing:"waxing",depilacion:"waxing",depilación:"waxing",cera:"waxing","tattoo-piercing":"tattoo-piercing",tattoo_piercing:"tattoo-piercing",tattoo:"tattoo-piercing",tatuaje:"tattoo-piercing",tatuajes:"tattoo-piercing",piercing:"tattoo-piercing",piercings:"tattoo-piercing",tanning:"tanning",bronceado:"tanning",autobronceado:"tanning","fitness-recovery":"fitness-recovery",fitness_recovery:"fitness-recovery",fitness:"fitness-recovery",recovery:"fitness-recovery",recuperacion:"fitness-recovery",recuperación:"fitness-recovery","physical-therapy":"physical-therapy",physical_therapy:"physical-therapy",fisioterapia:"physical-therapy",fisio:"physical-therapy","terapia-fisica":"physical-therapy","terapia-física":"physical-therapy","health-practice":"health-practice",health_practice:"health-practice",salud:"health-practice","medicina-alternativa":"health-practice",naturopatia:"health-practice",naturopatía:"health-practice","pet-grooming":"pet-grooming",pet_grooming:"pet-grooming",grooming:"pet-grooming","peluqueria-canina":"pet-grooming","peluquería-canina":"pet-grooming",mascotas:"pet-grooming"}[s]||s},at=()=>{const[t,s]=p.useState(""),[o,l]=p.useState(null),[r,n]=p.useState(!1),[i,u]=p.useState({sortBy:"best-match",maxPrice:2e4,minPrice:0,hasPromotions:!1,acceptsGroups:!1,establishmentType:"all",country:"",city:""}),g=ce(),{t:h}=de(),{user:j,isGuest:m}=Te(),{establishments:x,loading:w}=Ye(),{isFavorite:c,toggleFavorite:v}=Ge(),y=p.useCallback(a=>{const d=[];return a.category&&d.push(T(a.category)),a.primary_category&&d.push(T(a.primary_category)),a.secondary_categories&&Array.isArray(a.secondary_categories)&&a.secondary_categories.forEach(f=>{f&&d.push(T(f))}),[...new Set(d)]},[]),b=p.useMemo(()=>x.map(a=>({id:a.id,name:a.name,description:a.description||"",rating:Number(a.rating)||0,reviewCount:a.review_count||0,distance:"N/A",category:T(a.category||a.primary_category),imageUrl:a.main_image||"",images:a.main_image?[a.main_image]:[],isFavorite:c(a.id),closingTime:"8:00 PM",address:a.address||void 0,allCategories:y(a)})),[x,c,y]),R=p.useCallback(a=>{const d=a.toLowerCase().trim(),f=[d];return(d.includes("peluquería")||d.includes("peluqueria"))&&f.push("barbería","barberia","barber"),(d.includes("barbería")||d.includes("barberia")||d.includes("barber"))&&f.push("peluquería","peluqueria"),f},[]),k=p.useCallback((a,d)=>{const f=a.toLowerCase();return d.some(_=>{const C=_.toLowerCase();return(f==="hair-salon"||f==="barber")&&(C.includes("peluquería")||C.includes("peluqueria")||C.includes("barbería")||C.includes("barberia")||C.includes("barber"))?!0:f.includes(C)||C.includes(f)})},[]),S=p.useCallback(a=>{if(!a)return[];const d=[a];return a==="hair-salon"&&d.push("barber"),a==="barber"&&d.push("hair-salon"),d},[]),L=p.useCallback((a,d)=>{if(!d)return!0;const f=d.toLowerCase().trim(),_=R(f),C=h(`categories.${a}`).toLowerCase(),N=a.toLowerCase(),P=T(f);return _.some(D=>{const A=D.toLowerCase();return C.includes(A)||A.includes(C)||N.includes(A)||A.includes(N)||P===a||T(A)===a})},[R,h]),B=p.useMemo(()=>{const a={};b.forEach(f=>{(f.allCategories||[f.category||"other"]).forEach(C=>{const N=C||"other";a[N]=(a[N]||0)+1})});let d=Aa.filter(f=>f.id!=="all").map(f=>({...f,count:a[f.id]||0}));return t&&(d=d.filter(f=>L(f.id,t))),d.concat([{id:"all",label:"all",count:b.length}])},[b,t,L]),z=p.useMemo(()=>b.filter(a=>{if(!t&&!o&&!i.country&&!i.city)return!0;const d=a.allCategories||[a.category||"other"];let f=!0;if(t){const N=R(t),P=a.name.toLowerCase(),D=a.description.toLowerCase(),A=N.some(H=>P.includes(H.toLowerCase())||D.includes(H.toLowerCase())),Ae=d.some(H=>k(H,N));f=A||Ae}const _=o?S(o).some(N=>d.includes(N)):!0;let C=!0;if(i.city){const N=(a.address||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),P=i.city.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");C=N.includes(P)}return f&&_&&C}),[b,t,o,R,k,S,i.country,i.city]),O=p.useCallback(async a=>{if(!j&&!m){G({title:h("common.error"),description:"Debes iniciar sesión para guardar favoritos",variant:"destructive"});return}if(m){G({title:h("common.error"),description:"Los invitados no pueden guardar favoritos. Crea una cuenta.",variant:"destructive"});return}const{error:d}=await v(a);d&&G({title:h("common.error"),description:"No se pudo actualizar favoritos",variant:"destructive"})},[j,m,v,h]),$=a=>{l(a==="all"||a===o?null:a)},E=t||o;return B.find(a=>a.id===o),w?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx(Ve,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-card border-b border-border",children:e.jsxs("div",{className:"px-4 py-4 max-w-lg mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h1",{className:"text-xl font-bold text-foreground",children:h("search.title")})}),e.jsx(da,{value:t,onChange:s,placeholder:h("search.placeholder"),onMapClick:()=>g("/map"),onFilterClick:()=>n(!0)})]})}),e.jsxs("main",{className:"max-w-lg mx-auto px-4 py-6 space-y-6",children:[e.jsxs("section",{className:"animate-fade-in",children:[e.jsx("h2",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:h("search.categories")}),o?e.jsx("button",{onClick:()=>l(null),className:"flex items-center gap-3 p-4 rounded-xl border bg-primary text-primary-foreground border-primary shadow-card w-full",children:(()=>{const a=le[o]||Q;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gray-100",children:e.jsx(a,{className:"w-5 h-5 text-gray-700",strokeWidth:2})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("span",{className:"font-medium text-sm text-primary-foreground",children:h(`categories.${o}`)}),e.jsxs("p",{className:"text-xs text-primary-foreground/70",children:[z.length," ",h("common.results")]})]}),e.jsx(ue,{className:"w-5 h-5 text-primary-foreground"})]})})()}):e.jsx("div",{className:"grid grid-cols-2 gap-3",children:B.filter(a=>a.id!=="all").map(a=>{const d=le[a.id]||Q;return e.jsxs("button",{onClick:()=>$(a.id),className:U("flex items-center gap-3 p-4 rounded-xl border transition-all duration-200",a.count>0?"bg-card border-border hover:border-primary/30":"bg-card/50 border-border/50 opacity-60"),children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center bg-gray-100",children:e.jsx(d,{className:"w-5 h-5 text-gray-700",strokeWidth:2})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-medium text-sm text-foreground",children:h(`categories.${a.id}`)}),e.jsxs("p",{className:U("text-xs",a.count>0?"text-muted-foreground":"text-muted-foreground/60"),children:[a.count," ",h("common.results")]})]})]},a.id)})})]}),E&&e.jsxs("section",{className:"space-y-4 animate-fade-in px-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[z.length," ",h("common.results"),t&&` ${h("search.resultsFor")} "${t}"`]})}),z.map((a,d)=>e.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${d*.05}s`},children:e.jsx(ne,{business:a,onToggleFavorite:O})},a.id)),z.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-muted-foreground",children:h("common.noResults")})})]}),!E&&e.jsxs("section",{className:"space-y-4 animate-fade-in px-5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:[b.length," ",h("common.results")]})}),b.map((a,d)=>e.jsx("div",{className:"animate-slide-up",style:{animationDelay:`${d*.05}s`},children:e.jsx(ne,{business:a,onToggleFavorite:O})},a.id))]})]}),e.jsx(Da,{isOpen:r,onClose:()=>n(!1),onApply:a=>u(a),initialFilters:i}),!r&&e.jsx(Ie,{})]})};export{at as default};
