import{j as o,B as Q,c as I,r as c,d as _,e as pe,P as O,f as U,g as R,h as E,i as ge,D as be,k as xe,l as ve,m as Se,u as we,a as Ce,b as ye,n as T}from"./index-CzloO7cy.js";import{I as Z}from"./input-BZkz6bcX.js";import{u as Pe}from"./index-DsLpgJJy.js";import{c as je}from"./index-BdQq_4o_.js";import{S as Ee}from"./search-BedxrbCW.js";import{C as Re}from"./check-CndPyvTF.js";import{C as Ae}from"./chevron-down-BcGSGVjW.js";import{m as L}from"./proxy-COAEsQbd.js";import{A as Ne}from"./arrow-left-DZEGrZ4W.js";import{G as Te}from"./globe-B2dG_gWd.js";import{C as Le}from"./circle-help-DN7S1Rlf.js";const De={apple:{icon:o.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor",children:o.jsx("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})}),label:"Apple",bgClass:"bg-primary hover:bg-primary/90",textClass:"text-primary-foreground"},google:{icon:o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),label:"Google",bgClass:"bg-white hover:bg-slate-50 border border-slate-200",textClass:"text-slate-900"},email:{icon:o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[o.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),o.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),label:"Email",bgClass:"bg-white hover:bg-slate-50 border border-slate-200",textClass:"text-slate-900"}},X=({provider:e,onClick:n,isLoading:t=!1,className:a})=>{const r=De[e];return o.jsxs(Q,{onClick:n,disabled:t,className:I("w-full h-14 rounded-xl font-medium text-base gap-3 transition-all duration-200 active:scale-[0.98]",r.bgClass,r.textClass,a),children:[r.icon,o.jsxs("span",{children:["Continue with ",r.label]})]})};function _e(e,n){return c.useReducer((t,a)=>n[t][a]??t,e)}var G="ScrollArea",[ee]=pe(G),[He,v]=ee(G),oe=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,type:a="hover",dir:r,scrollHideDelay:s=600,...i}=e,[l,d]=c.useState(null),[m,u]=c.useState(null),[h,f]=c.useState(null),[p,x]=c.useState(null),[P,H]=c.useState(null),[C,A]=c.useState(0),[z,g]=c.useState(0),[y,j]=c.useState(!1),[W,k]=c.useState(!1),b=_(n,N=>d(N)),S=Pe(r);return o.jsx(He,{scope:t,type:a,dir:S,scrollHideDelay:s,scrollArea:l,viewport:m,onViewportChange:u,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:y,onScrollbarXEnabledChange:j,scrollbarY:P,onScrollbarYChange:H,scrollbarYEnabled:W,onScrollbarYEnabledChange:k,onCornerWidthChange:A,onCornerHeightChange:g,children:o.jsx(O.div,{dir:S,...i,ref:b,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":z+"px",...e.style}})})});oe.displayName=G;var te="ScrollAreaViewport",re=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,children:a,nonce:r,...s}=e,i=v(te,t),l=c.useRef(null),d=_(n,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(O.div,{"data-radix-scroll-area-viewport":"",...s,ref:d,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});re.displayName=te;var w="ScrollAreaScrollbar",$=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=v(w,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:i}=r,l=e.orientation==="horizontal";return c.useEffect(()=>(l?s(!0):i(!0),()=>{l?s(!1):i(!1)}),[l,s,i]),r.type==="hover"?o.jsx(ze,{...a,ref:n,forceMount:t}):r.type==="scroll"?o.jsx(Ie,{...a,ref:n,forceMount:t}):r.type==="auto"?o.jsx(ne,{...a,ref:n,forceMount:t}):r.type==="always"?o.jsx(q,{...a,ref:n}):null});$.displayName=w;var ze=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=v(w,e.__scopeScrollArea),[s,i]=c.useState(!1);return c.useEffect(()=>{const l=r.scrollArea;let d=0;if(l){const m=()=>{window.clearTimeout(d),i(!0)},u=()=>{d=window.setTimeout(()=>i(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",m),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",m),l.removeEventListener("pointerleave",u)}}},[r.scrollArea,r.scrollHideDelay]),o.jsx(U,{present:t||s,children:o.jsx(ne,{"data-state":s?"visible":"hidden",...a,ref:n})})}),Ie=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=v(w,e.__scopeScrollArea),s=e.orientation==="horizontal",i=F(()=>d("SCROLL_END"),100),[l,d]=_e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return c.useEffect(()=>{if(l==="idle"){const m=window.setTimeout(()=>d("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(m)}},[l,r.scrollHideDelay,d]),c.useEffect(()=>{const m=r.viewport,u=s?"scrollLeft":"scrollTop";if(m){let h=m[u];const f=()=>{const p=m[u];h!==p&&(d("SCROLL"),i()),h=p};return m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[r.viewport,s,d,i]),o.jsx(U,{present:t||l!=="hidden",children:o.jsx(q,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:n,onPointerEnter:R(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:R(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),ne=c.forwardRef((e,n)=>{const t=v(w,e.__scopeScrollArea),{forceMount:a,...r}=e,[s,i]=c.useState(!1),l=e.orientation==="horizontal",d=F(()=>{if(t.viewport){const m=t.viewport.offsetWidth<t.viewport.scrollWidth,u=t.viewport.offsetHeight<t.viewport.scrollHeight;i(l?m:u)}},10);return D(t.viewport,d),D(t.content,d),o.jsx(U,{present:a||s,children:o.jsx(q,{"data-state":s?"visible":"hidden",...r,ref:n})})}),q=c.forwardRef((e,n)=>{const{orientation:t="vertical",...a}=e,r=v(w,e.__scopeScrollArea),s=c.useRef(null),i=c.useRef(0),[l,d]=c.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=ce(l.viewport,l.content),u={...a,sizes:l,onSizesChange:d,hasThumb:m>0&&m<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function h(f,p){return Ue(f,i.current,l,p)}return t==="horizontal"?o.jsx(Oe,{...u,ref:n,onThumbPositionChange:()=>{if(r.viewport&&s.current){const f=r.viewport.scrollLeft,p=J(f,l,r.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollLeft=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollLeft=h(f,r.dir))}}):t==="vertical"?o.jsx(We,{...u,ref:n,onThumbPositionChange:()=>{if(r.viewport&&s.current){const f=r.viewport.scrollTop,p=J(f,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollTop=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollTop=h(f))}}):null}),Oe=c.forwardRef((e,n)=>{const{sizes:t,onSizesChange:a,...r}=e,s=v(w,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),m=_(n,d,s.onScrollbarXChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),o.jsx(ae,{"data-orientation":"horizontal",...r,ref:m,sizes:t,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Y(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(f),ue(f,h)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&i&&a({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:M(i.paddingLeft),paddingEnd:M(i.paddingRight)}})}})}),We=c.forwardRef((e,n)=>{const{sizes:t,onSizesChange:a,...r}=e,s=v(w,e.__scopeScrollArea),[i,l]=c.useState(),d=c.useRef(null),m=_(n,d,s.onScrollbarYChange);return c.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),o.jsx(ae,{"data-orientation":"vertical",...r,ref:m,sizes:t,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Y(t)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,h)=>{if(s.viewport){const f=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(f),ue(f,h)&&u.preventDefault()}},onResize:()=>{d.current&&s.viewport&&i&&a({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:M(i.paddingTop),paddingEnd:M(i.paddingBottom)}})}})}),[ke,le]=ee(w),ae=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,sizes:a,hasThumb:r,onThumbChange:s,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:m,onWheelScroll:u,onResize:h,...f}=e,p=v(w,t),[x,P]=c.useState(null),H=_(n,b=>P(b)),C=c.useRef(null),A=c.useRef(""),z=p.viewport,g=a.content-a.viewport,y=E(u),j=E(d),W=F(h,10);function k(b){if(C.current){const S=b.clientX-C.current.left,N=b.clientY-C.current.top;m({x:S,y:N})}}return c.useEffect(()=>{const b=S=>{const N=S.target;(x==null?void 0:x.contains(N))&&y(S,g)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[z,x,g,y]),c.useEffect(j,[a,j]),D(x,W),D(p.content,W),o.jsx(ke,{scope:t,scrollbar:x,hasThumb:r,onThumbChange:E(s),onThumbPointerUp:E(i),onThumbPositionChange:j,onThumbPointerDown:E(l),children:o.jsx(O.div,{...f,ref:H,style:{position:"absolute",...f.style},onPointerDown:R(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),C.current=x.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),k(b))}),onPointerMove:R(e.onPointerMove,k),onPointerUp:R(e.onPointerUp,b=>{const S=b.target;S.hasPointerCapture(b.pointerId)&&S.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=A.current,p.viewport&&(p.viewport.style.scrollBehavior=""),C.current=null})})})}),B="ScrollAreaThumb",se=c.forwardRef((e,n)=>{const{forceMount:t,...a}=e,r=le(B,e.__scopeScrollArea);return o.jsx(U,{present:t||r.hasThumb,children:o.jsx(Be,{ref:n,...a})})}),Be=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,style:a,...r}=e,s=v(B,t),i=le(B,t),{onThumbPositionChange:l}=i,d=_(n,h=>i.onThumbChange(h)),m=c.useRef(void 0),u=F(()=>{m.current&&(m.current(),m.current=void 0)},100);return c.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(u(),!m.current){const p=Ye(h,l);m.current=p,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,u,l]),o.jsx(O.div,{"data-state":i.hasThumb?"visible":"hidden",...r,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:R(e.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),x=h.clientX-p.left,P=h.clientY-p.top;i.onThumbPointerDown({x,y:P})}),onPointerUp:R(e.onPointerUp,i.onThumbPointerUp)})});se.displayName=B;var K="ScrollAreaCorner",ie=c.forwardRef((e,n)=>{const t=v(K,e.__scopeScrollArea),a=!!(t.scrollbarX&&t.scrollbarY);return t.type!=="scroll"&&a?o.jsx(Me,{...e,ref:n}):null});ie.displayName=K;var Me=c.forwardRef((e,n)=>{const{__scopeScrollArea:t,...a}=e,r=v(K,t),[s,i]=c.useState(0),[l,d]=c.useState(0),m=!!(s&&l);return D(r.scrollbarX,()=>{var h;const u=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(u),d(u)}),D(r.scrollbarY,()=>{var h;const u=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(u),i(u)}),m?o.jsx(O.div,{...a,ref:n,style:{width:s,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function M(e){return e?parseInt(e,10):0}function ce(e,n){const t=e/n;return isNaN(t)?0:t}function Y(e){const n=ce(e.viewport,e.content),t=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-t)*n;return Math.max(a,18)}function Ue(e,n,t,a="ltr"){const r=Y(t),s=r/2,i=n||s,l=r-i,d=t.scrollbar.paddingStart+i,m=t.scrollbar.size-t.scrollbar.paddingEnd-l,u=t.content-t.viewport,h=a==="ltr"?[0,u]:[u*-1,0];return de([d,m],h)(e)}function J(e,n,t="ltr"){const a=Y(n),r=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,s=n.scrollbar.size-r,i=n.content-n.viewport,l=s-a,d=t==="ltr"?[0,i]:[i*-1,0],m=je(e,d);return de([0,i],[0,l])(m)}function de(e,n){return t=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const a=(n[1]-n[0])/(e[1]-e[0]);return n[0]+a*(t-e[0])}}function ue(e,n){return e>0&&e<n}var Ye=(e,n=()=>{})=>{let t={left:e.scrollLeft,top:e.scrollTop},a=0;return function r(){const s={left:e.scrollLeft,top:e.scrollTop},i=t.left!==s.left,l=t.top!==s.top;(i||l)&&n(),t=s,a=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(a)};function F(e,n){const t=E(e),a=c.useRef(0);return c.useEffect(()=>()=>window.clearTimeout(a.current),[]),c.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(t,n)},[t,n])}function D(e,n){const t=E(n);ge(()=>{let a=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(t)});return r.observe(e),()=>{window.cancelAnimationFrame(a),r.unobserve(e)}}},[e,t])}var he=oe,Fe=re,Xe=ie;const fe=c.forwardRef(({className:e,children:n,...t},a)=>o.jsxs(he,{ref:a,className:I("relative overflow-hidden",e),...t,children:[o.jsx(Fe,{className:"h-full w-full rounded-[inherit]",children:n}),o.jsx(me,{}),o.jsx(Xe,{})]}));fe.displayName=he.displayName;const me=c.forwardRef(({className:e,orientation:n="vertical",...t},a)=>o.jsx($,{ref:a,orientation:n,className:I("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...t,children:o.jsx(se,{className:"relative flex-1 rounded-full bg-border"})}));me.displayName=$.displayName;const V=[{code:"US",name:"United States",dialCode:"+1",flag:"ðŸ‡ºðŸ‡¸"},{code:"DO",name:"Dominican Republic",dialCode:"+1",flag:"ðŸ‡©ðŸ‡´"},{code:"MX",name:"Mexico",dialCode:"+52",flag:"ðŸ‡²ðŸ‡½"},{code:"ES",name:"Spain",dialCode:"+34",flag:"ðŸ‡ªðŸ‡¸"},{code:"CO",name:"Colombia",dialCode:"+57",flag:"ðŸ‡¨ðŸ‡´"},{code:"AR",name:"Argentina",dialCode:"+54",flag:"ðŸ‡¦ðŸ‡·"},{code:"CL",name:"Chile",dialCode:"+56",flag:"ðŸ‡¨ðŸ‡±"},{code:"PE",name:"Peru",dialCode:"+51",flag:"ðŸ‡µðŸ‡ª"},{code:"VE",name:"Venezuela",dialCode:"+58",flag:"ðŸ‡»ðŸ‡ª"},{code:"EC",name:"Ecuador",dialCode:"+593",flag:"ðŸ‡ªðŸ‡¨"},{code:"GT",name:"Guatemala",dialCode:"+502",flag:"ðŸ‡¬ðŸ‡¹"},{code:"CU",name:"Cuba",dialCode:"+53",flag:"ðŸ‡¨ðŸ‡º"},{code:"PR",name:"Puerto Rico",dialCode:"+1",flag:"ðŸ‡µðŸ‡·"},{code:"PA",name:"Panama",dialCode:"+507",flag:"ðŸ‡µðŸ‡¦"},{code:"CR",name:"Costa Rica",dialCode:"+506",flag:"ðŸ‡¨ðŸ‡·"},{code:"UY",name:"Uruguay",dialCode:"+598",flag:"ðŸ‡ºðŸ‡¾"},{code:"PY",name:"Paraguay",dialCode:"+595",flag:"ðŸ‡µðŸ‡¾"},{code:"BO",name:"Bolivia",dialCode:"+591",flag:"ðŸ‡§ðŸ‡´"},{code:"HN",name:"Honduras",dialCode:"+504",flag:"ðŸ‡­ðŸ‡³"},{code:"SV",name:"El Salvador",dialCode:"+503",flag:"ðŸ‡¸ðŸ‡»"},{code:"NI",name:"Nicaragua",dialCode:"+505",flag:"ðŸ‡³ðŸ‡®"},{code:"BR",name:"Brazil",dialCode:"+55",flag:"ðŸ‡§ðŸ‡·"},{code:"CA",name:"Canada",dialCode:"+1",flag:"ðŸ‡¨ðŸ‡¦"},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:"ðŸ‡¬ðŸ‡§"},{code:"FR",name:"France",dialCode:"+33",flag:"ðŸ‡«ðŸ‡·"},{code:"DE",name:"Germany",dialCode:"+49",flag:"ðŸ‡©ðŸ‡ª"},{code:"IT",name:"Italy",dialCode:"+39",flag:"ðŸ‡®ðŸ‡¹"},{code:"PT",name:"Portugal",dialCode:"+351",flag:"ðŸ‡µðŸ‡¹"}],Ve=({open:e,onOpenChange:n,selectedCountry:t,onSelect:a})=>{const[r,s]=c.useState(""),i=V.filter(l=>l.name.toLowerCase().includes(r.toLowerCase())||l.dialCode.includes(r));return o.jsx(be,{open:e,onOpenChange:n,children:o.jsxs(xe,{className:"max-w-sm max-h-[80vh]",children:[o.jsx(ve,{children:o.jsx(Se,{children:"Select Country"})}),o.jsxs("div",{className:"relative",children:[o.jsx(Ee,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Z,{placeholder:"Search countries...",value:r,onChange:l=>s(l.target.value),className:"pl-10"})]}),o.jsx(fe,{className:"h-[300px] -mx-6 px-6",children:o.jsx("div",{className:"space-y-1",children:i.map(l=>o.jsxs("button",{onClick:()=>{a(l),n(!1)},className:I("w-full flex items-center gap-3 px-3 py-3 rounded-lg transition-colors","hover:bg-accent",t.code===l.code&&"bg-accent"),children:[o.jsx("span",{className:"text-2xl",children:l.flag}),o.jsx("span",{className:"flex-1 text-left text-foreground",children:l.name}),o.jsx("span",{className:"text-muted-foreground",children:l.dialCode}),t.code===l.code&&o.jsx(Re,{className:"h-4 w-4 text-primary"})]},l.code))})})]})})},Ge=({value:e,onChange:n,selectedCountry:t,onCountryChange:a,placeholder:r="Phone number",className:s})=>{const[i,l]=c.useState(!1),d=u=>{const h=u.replace(/\D/g,"");return h.length<=3?h:h.length<=6?`(${h.slice(0,3)}) ${h.slice(3)}`:`(${h.slice(0,3)}) ${h.slice(3,6)}-${h.slice(6,10)}`},m=u=>{const h=d(u.target.value);n(h)};return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:I("relative flex items-center",s),children:[o.jsxs("button",{type:"button",onClick:()=>l(!0),className:"flex items-center gap-1 px-4 py-4 bg-slate-50 border border-slate-200 border-r-0 rounded-l-xl hover:bg-slate-100 transition-colors",children:[o.jsx("span",{className:"text-xl",children:t.flag}),o.jsx("span",{className:"text-slate-900 font-medium",children:t.dialCode}),o.jsx(Ae,{className:"h-4 w-4 text-slate-500"})]}),o.jsx(Z,{type:"tel",value:e,onChange:m,placeholder:r,className:"flex-1 h-14 rounded-l-none rounded-r-xl border-l-0 text-lg bg-slate-50 border-slate-200 text-slate-900 placeholder:text-slate-400"})]}),o.jsx(Ve,{open:i,onOpenChange:l,selectedCountry:t,onSelect:a})]})},ao=()=>{const e=we(),{signInWithGoogle:n,signInWithApple:t,signInWithPhone:a,user:r,isLoading:s}=Ce(),{t:i,i18n:l}=ye(),[d,m]=c.useState(""),[u,h]=c.useState(V.find(g=>g.code==="DO")||V[0]),[f,p]=c.useState(null);c.useEffect(()=>{r&&!s&&e("/")},[r,s,e]);const x=async()=>{p("google");try{const{error:g}=await n();g?(T.error(g.message||"Failed to sign in with Google"),p(null)):console.log("ðŸ” OAuth iniciado, esperando callback de deep link...")}catch{T.error("An unexpected error occurred"),p(null)}},P=async()=>{p("apple");try{const{error:g}=await t();g?(T.error(g.message||"Failed to sign in with Apple"),p(null)):console.log("ðŸŽ OAuth iniciado, esperando callback de deep link...")}catch{T.error("An unexpected error occurred"),p(null)}},H=()=>{e("/auth/email")},C=async()=>{if(!d||d.replace(/\D/g,"").length<10){T.error("Please enter a valid phone number");return}p("phone");const g=`${u.dialCode}${d.replace(/\D/g,"")}`,{error:y}=await a(g);y?(T.error(y.message||"Failed to send verification code"),p(null)):e("/auth/verify",{state:{phone:g}})},A=()=>{e("/welcome")},z=()=>{const g=["en","es","fr"],j=(g.indexOf(l.language)+1)%g.length;l.changeLanguage(g[j])};return o.jsxs(L.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:"min-h-screen min-h-dvh bg-white flex flex-col",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},children:[o.jsx("div",{className:"flex items-center justify-between p-4",children:o.jsx("button",{onClick:A,className:"p-2 -ml-2 rounded-full hover:bg-slate-100 transition-colors",children:o.jsx(Ne,{className:"h-6 w-6 text-slate-900"})})}),o.jsxs("div",{className:"flex-1 px-6 pb-8",children:[o.jsxs(L.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,duration:.4},children:[o.jsx("h1",{className:"text-slate-900 text-2xl font-bold mb-2",children:i("auth.login.title","Log in or sign up")}),o.jsx("p",{className:"text-slate-600 mb-8",children:i("auth.login.subtitle","Create an account or log in to book appointments")})]}),o.jsxs(L.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.4},className:"space-y-3 mb-8",children:[o.jsx(X,{provider:"apple",onClick:P,isLoading:f==="apple"}),o.jsx(X,{provider:"google",onClick:x,isLoading:f==="google"}),o.jsx(X,{provider:"email",onClick:H,isLoading:f==="email"})]}),o.jsxs(L.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},className:"relative mb-8",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-slate-200"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-4 bg-white text-slate-500",children:i("auth.login.or","OR")})})]}),o.jsxs(L.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4,duration:.4},className:"space-y-4",children:[o.jsx(Ge,{value:d,onChange:m,selectedCountry:u,onCountryChange:h,placeholder:i("auth.login.enterPhone","Phone number")}),o.jsx(Q,{onClick:C,disabled:!d||f==="phone",className:"w-full h-14 text-lg font-semibold rounded-xl",children:f==="phone"?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):i("auth.welcome.continue","Continue")})]})]}),o.jsx(L.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5,duration:.4},className:"px-6",style:{paddingBottom:"calc(2rem + env(safe-area-inset-bottom))"},children:o.jsxs("div",{className:"flex items-center justify-center gap-6",children:[o.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors",children:[o.jsx(Te,{className:"h-5 w-5"}),o.jsx("span",{children:l.language.toUpperCase()})]}),o.jsxs("button",{className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors",children:[o.jsx(Le,{className:"h-5 w-5"}),o.jsx("span",{children:i("auth.login.support","Support")})]})]})})]})};export{ao as default};
