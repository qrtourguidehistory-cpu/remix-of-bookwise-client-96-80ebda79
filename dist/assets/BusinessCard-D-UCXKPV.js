import{r as n,b as x,j as t,c as s,L as g,B as h}from"./index-BrdmEQqy.js";import{I as p}from"./ImageCarousel-BuQ-xDZJ.js";import{H as f}from"./useFavorites-CnwfMFVv.js";import{S as y}from"./star-CT7qG9a3.js";const C=n.memo(function({business:e,onToggleFavorite:r}){var c,i;const{t:o}=x(),d=(c=e.coverImages)!=null&&c.length?e.coverImages:e.coverImageUrl?[e.coverImageUrl]:(i=e.images)!=null&&i.length?e.images:e.imageUrl?[e.imageUrl]:[],m=a=>a.toLocaleString();return t.jsxs("article",{className:"bg-white rounded-xl shadow-sm overflow-hidden animate-fade-in hover:shadow-md transition-shadow duration-300 group",children:[t.jsxs("div",{className:"relative aspect-[16/10] bg-muted",children:[t.jsx(p,{images:d,alt:e.name,clickable:!0}),t.jsx("button",{onClick:()=>r==null?void 0:r(e.id),className:s("absolute top-3 right-3 w-9 h-9 rounded-full flex items-center justify-center transition-all duration-200 z-10 shadow-sm opacity-0 group-hover:opacity-100",e.isFavorite?"bg-white text-red-500 opacity-100":"bg-white/90 backdrop-blur-sm text-gray-400 hover:text-red-500 hover:bg-white"),children:t.jsx(f,{className:s("w-5 h-5",e.isFavorite&&"fill-current")})})]}),t.jsxs("div",{className:"px-4 py-3 space-y-1.5",children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsx("h3",{className:"font-semibold text-lg text-gray-900 leading-tight flex-1",children:e.name}),t.jsxs("div",{className:"flex flex-col items-end gap-0.5 shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(y,{className:"w-4 h-4 text-yellow-400 fill-yellow-400"}),t.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:e.rating.toFixed(1)}),e.reviewCount>0&&t.jsxs("span",{className:"text-gray-600 text-sm font-normal",children:["(",m(e.reviewCount),")"]})]}),e.address&&t.jsx("p",{className:"text-[10px] text-gray-500 leading-tight text-right line-clamp-1 max-w-[120px]",children:e.address})]})]}),e.distance&&e.distance!=="N/A"&&t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:e.distance}),(()=>{if(!e.category)return null;const a=e.category.replace(/_/g,"-"),l=o(`categories.${a}`);return l&&l!==`categories.${a}`?t.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:l}):null})(),t.jsx(g,{to:`/business/${e.id}`,children:t.jsx(h,{variant:"outline",className:"w-full mt-3 border-gray-200 hover:bg-gray-50 hover:border-gray-300 text-foreground",children:o("common_ui.viewMore")})})]})]})});export{C as B};
