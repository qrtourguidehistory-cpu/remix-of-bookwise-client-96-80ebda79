import{r as t,j as r,c as n}from"./index-uyy-nLXi.js";const C=t.memo(function({src:l,alt:s,className:g,placeholderColor:b="bg-gradient-to-br from-primary/20 to-primary/5",loading:y="lazy",onError:o,onClick:p}){const[h,d]=t.useState(!1),[j,i]=t.useState(!1),[w,a]=t.useState(!0),c=t.useRef(null),f=t.useRef(!1),x=b||(e=>{const u=["bg-gradient-to-br from-primary/20 to-primary/5","bg-gradient-to-br from-blue-200/20 to-blue-500/5","bg-gradient-to-br from-purple-200/20 to-purple-500/5","bg-gradient-to-br from-pink-200/20 to-pink-500/5","bg-gradient-to-br from-green-200/20 to-green-500/5"],m=e.charCodeAt(0)%u.length;return u[m]})(s);t.useEffect(()=>{if(!l){i(!0);return}d(!1),i(!1),a(!0),f.current=!1;const e=new Image,u=()=>{f.current||(f.current=!0,d(!0),setTimeout(()=>a(!1),100))},m=()=>{i(!0),a(!1),o&&c.current&&o({currentTarget:c.current,target:c.current})};return e.onload=u,e.onerror=m,e.src=l,()=>{e.onload=null,e.onerror=null}},[l,o]);const v=()=>{d(!0),setTimeout(()=>a(!1),100)},I=e=>{i(!0),a(!1),o&&o(e)};return j?r.jsx("div",{className:n("w-full h-full flex items-center justify-center",x,g),onClick:p,children:r.jsx("span",{className:"text-2xl font-bold text-primary/30",children:s.charAt(0).toUpperCase()})}):r.jsxs("div",{className:n("relative w-full h-full overflow-hidden",g),onClick:p,children:[w&&r.jsx("div",{className:n("absolute inset-0 flex items-center justify-center transition-opacity duration-300",h?"opacity-0":"opacity-100"),children:r.jsx("div",{className:n("w-full h-full",x),children:r.jsx("span",{className:"text-2xl font-bold text-primary/30",children:s.charAt(0).toUpperCase()})})}),r.jsx("img",{ref:c,src:l,alt:s,loading:y,onLoad:v,onError:I,className:n("w-full h-full object-cover transition-opacity duration-300",h?"opacity-100":"opacity-0"),style:{imageRendering:"auto"}})]})});export{C as O};
