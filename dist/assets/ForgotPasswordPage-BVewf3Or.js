import{v as j,u as g,w as y,b as N,r as c,j as e,B as r,x as b}from"./index-BMNWyqXE.js";import{I as v}from"./input-DJQqm0Ii.js";import{L as w}from"./label-DPoPMPzs.js";import{m as u}from"./proxy-Ru_3edXT.js";import{A as k}from"./arrow-left-BiC-gsyl.js";import{M as E}from"./mail-C5Iq_dic.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=j("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),A=()=>{const i=g(),{toast:l}=y(),{t}=N(),[a,h]=c.useState(""),[o,m]=c.useState(!1),[x,d]=c.useState(!1),f=async n=>{if(n.preventDefault(),!a.trim()){l({title:t("auth.error"),description:t("auth.enterEmail"),variant:"destructive"});return}m(!0);try{const{error:s}=await b.auth.resetPasswordForEmail(a,{redirectTo:`${window.location.origin}/auth/reset-password`});if(s)throw s;d(!0),l({title:t("auth.resetEmailSent"),description:t("auth.checkInbox")})}catch(s){l({title:t("auth.error"),description:s.message||t("auth.resetError"),variant:"destructive"})}finally{m(!1)}},p=()=>{i("/auth/email")};return x?e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-background flex flex-col items-center justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-md text-center space-y-6",children:[e.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:e.jsx(C,{className:"w-10 h-10 text-primary"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:t("auth.checkYourEmail")}),e.jsxs("p",{className:"text-muted-foreground",children:[t("auth.resetEmailSentTo")," ",e.jsx("strong",{children:a})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("auth.clickLinkInEmail")}),e.jsxs("div",{className:"space-y-3 pt-4",children:[e.jsx(r,{onClick:()=>d(!1),variant:"outline",className:"w-full",children:t("auth.sendAgain")}),e.jsx(r,{onClick:()=>i("/auth/email"),className:"w-full",children:t("auth.backToLogin")})]})]})}):e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"min-h-screen bg-background flex flex-col",children:[e.jsxs("div",{className:"flex items-center p-4 border-b border-border",children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:p,className:"mr-2",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold text-foreground",children:t("auth.forgotPassword")})]}),e.jsx("div",{className:"flex-1 flex flex-col justify-center p-6",children:e.jsxs("div",{className:"w-full max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(E,{className:"w-8 h-8 text-primary"})}),e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:t("auth.resetYourPassword")}),e.jsx("p",{className:"text-muted-foreground text-sm",children:t("auth.enterEmailToReset")})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"email",children:t("auth.email")}),e.jsx(v,{id:"email",type:"email",placeholder:t("auth.emailPlaceholder"),value:a,onChange:n=>h(n.target.value),className:"h-12",autoComplete:"email"})]}),e.jsx(r,{type:"submit",className:"w-full h-12",disabled:o,children:t(o?"auth.sending":"auth.sendResetLink")})]}),e.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t("auth.rememberPassword")," ",e.jsx("button",{onClick:()=>i("/auth/email"),className:"text-primary hover:underline font-medium",children:t("auth.signIn")})]})]})})]})};export{A as default};
